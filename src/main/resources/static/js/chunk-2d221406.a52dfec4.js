(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d221406"],{ca0b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ui-modal",e._g(e._b({},"ui-modal",e.modalProps,!1),e.$listeners),[a("el-form",{ref:"Form",attrs:{"label-width":"8em",model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"批次类型"}},[a("el-radio-group",{on:{change:e.onTypeChange},model:{value:e.form.batchType,callback:function(t){e.$set(e.form,"batchType",t)},expression:"form.batchType"}},[a("el-radio",{attrs:{label:1}},[e._v("预览批次")]),a("el-radio",{attrs:{label:2}},[e._v("预测批次")])],1)],1),a("ui-select",{attrs:{label:"选择任务批次",prop:"eventId",options:e.eventList,props:{value:"eventId",label:"eventName"},filterable:""},model:{value:e.form.eventId,callback:function(t){e.$set(e.form,"eventId",t)},expression:"form.eventId"}}),a("el-form-item",{attrs:{label:"任务内去重"}},[a("el-radio-group",{model:{value:e.form.isCheckUnique,callback:function(t){e.$set(e.form,"isCheckUnique",t)},expression:"form.isCheckUnique"}},[a("el-radio",{attrs:{label:1}},[e._v("开启")]),a("el-radio",{attrs:{label:0}},[e._v("关闭")])],1)],1)],1)],1)},r=[],s=a("5530"),o=a("1da1"),i=(a("4de4"),a("d3b7"),a("caad"),a("96cf"),a("a02a")),c={props:["row"],data:function(){var e=this;return{rules:{eventId:Object(i["z"])("请选择任务批次")},form:{batchId:this.row.batchId,isCheckUnique:1,batchType:1},modalProps:{title:"加入任务批次",hideMessage:!0,onSubmit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.Form.validate();case 2:return a=e.form,n={1:"/ccas/call/manual/event/list/export/by/batch",2:"/ocm/list/save/pool2BusList"}[a.batchType],t.next=6,e.$post(n,a).then((function(t){var a=t.data;e.$message.success(a)}));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()},eventList:[]}},mounted:function(){this.getBatchList(this.form.batchType)},methods:{getBatchList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.eventList=[],2!==e){a.next=7;break}return a.next=4,t.$http("/ocm/event/listNoPage");case 4:t.eventList=a.sent.data.filter((function(e){return[-1,0].includes(e.eventState)})),a.next=10;break;case 7:return a.next=9,t.$http("/ccas/call/manual/event/list");case 9:t.eventList=a.sent.data.filter((function(e){return[0,1].includes(e.eventStatus)}));case 10:case"end":return a.stop()}}),a)})))()},onTypeChange:function(e){this.form=Object(s["a"])(Object(s["a"])({},this.form),{},{eventId:void 0}),this.getBatchList(e)}}},l=c,u=a("2877"),m=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=m.exports}}]);