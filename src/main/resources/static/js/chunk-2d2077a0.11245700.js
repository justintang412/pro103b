(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2077a0"],{a160:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[n("ui-text-field",{attrs:{label:"联系人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.contactName,callback:function(t){e.$set(e.searchForm,"contactName",t)},expression:"searchForm.contactName"}}),n("ui-text-field",{attrs:{label:"联系电话"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.contactPhone,callback:function(t){e.$set(e.searchForm,"contactPhone",t)},expression:"searchForm.contactPhone"}}),n("ui-select",{attrs:{label:"状态",options:e.states,clearable:""},on:{change:e.onSearch},model:{value:e.searchForm.planStatus,callback:function(t){e.$set(e.searchForm,"planStatus",t)},expression:"searchForm.planStatus"}})]},proxy:!0},{key:"actions",fn:function(){return[n("el-button",{attrs:{type:"danger",disabled:!e.selectedRow.length},on:{click:function(t){return e.onDelete(e.selectedRow)}}},[e._v("删除计划")])]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners))},c=[],r=n("1da1"),o=n("5530"),l=(n("96cf"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("a02a")),i={name:"OcmPreviewMyContactPlan",mixins:[window.mixTableView],data:function(){return{states:{1:"已预约",2:"已联系"},columns:[{type:"selection"},{label:"联系人",prop:"contactName"},{label:"联系电话",prop:"contactPhone"},{label:"性别",render:function(e,t){var n=t.row;return e("div",{1:"男",2:"女"}[n.contactSex])}},{label:"预约时间",prop:"reserveTime",minWidth:140},{label:"联系状态",render:function(e,t){var n=t.row;return e("div",{1:"已预约",2:"已联系"}[n.planStatus])}},{label:"操作",width:160,fixed:"right",render:this.$hBtns([{label:"呼叫",action:this.onCall},{label:"短信",action:this.onSendSms},{label:"编辑",action:this.onEdit},{label:"删除",action:this.onDelete}])}]}},mounted:function(){this.setInitForm(),this.getData(),Object(l["g"])(this,this.getData)},methods:{setInitForm:function(){this.tableForm={planStatus:"1"},this.searchForm=Object(o["a"])({},this.tableForm)},fetchMethod:function(e){return this.$http("/ccas/call/manual/contact/my/all/list",{params:e}).then((function(e){return e.data}))},onDelete:function(e){var t=this;this.delData({rows:e,action:function(e){return t.$http("/ccas/call/manual/contact/del",{params:{ids:e.map((function(e){return e.planId}))+""}})}})},onEdit:function(e){this.$openModal((function(){return n.e("chunk-b4cb56ec").then(n.bind(null,"f935"))}),{row:e},{success:this.onEditSuccess})},onSendSms:function(e){this.$openModal((function(){return n.e("chunk-97d13c26").then(n.bind(null,"3772"))}),{row:e,userData:this.$store.state.userData})},onCall:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$http("/ccas/call/info/contact/plan/call/check/".concat(e.planId));case 3:t.$eventBus.$emit("phonebar",{type:"makecall",payload:{args:[e.contactPhone,""],params:{planId:e.planId}}}),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),t.getData();case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()}}},s=i,u=n("2877"),h=Object(u["a"])(s,a,c,!1,null,null,null);t["default"]=h.exports}}]);