(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bea1b20"],{"14a9":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n("3835"),a=n("1da1"),i=n("ade3"),c=n("5530"),o=(n("96cf"),n("99af"),n("d3b7"),n("b64b"),n("a02a")),s="sms",u=function(e){return{1:"审核标记",2:"通过"}[e]||"不通过"},d={data:function(){return{userList:[],timerange:[]}},computed:{userData:function(){return this.$store.state.userData},columns:function(){var e=[{label:"发送坐席",prop:"seatName"},{label:"发送时间",prop:"sendTime",minWidth:140},{label:"模板名称",prop:"templateName",minWidth:140}],t={label:"操作",width:100,fixed:"right",render:this.$hBtns({label:"查看",action:this.onEdit})},n=this.searchForm,r=n.singleType,a=n.recordType;return"1"===r?[{label:"发送号码",prop:"userMobile"}].concat(e,[{label:"发送状态",minWidth:80,render:function(e,t){var n=t.row;return e("span",1===+n.sendType?"成功":"失败")}},{label:"短信字数／条",minWidth:120,render:function(e,t){var n=t.row;return e("span",n.wordCount/n.wordNum)}},{label:"短信内容",prop:"templateContent",minWidth:140},t]):"1"===a?[].concat(e,[{label:"实际发送条数",prop:"sendSuccessCount"},t]):[{label:"发送坐席",prop:"seatName"},{label:"创建时间",prop:"createTime",minWidth:140},{label:"定时发送时间",prop:"expectSendTime",minWidth:140},{label:"模板名称",prop:"templateName",minWidth:120},{label:"预计发送条数",render:function(e,t){var n=t.row;return e("span",+n.sendSuccessCount+ +n.sendFailCount)}},{label:"操作",width:100,fixed:"right",render:this.$hBtns([{label:"查看",action:this.onEdit},{label:"删除",action:this.onDelete}])}]}},methods:{fetchMethod:function(e){return e=Object.keys(e).reduce((function(t,n){var r=e[n];return Object(c["a"])(Object(c["a"])({},t),{},Object(i["a"])({},n,Object(o["v"])(r)?void 0:r))}),{}),this.$http.post("/send/message/getMessageRecord",Object(c["a"])(Object(c["a"])({},e),{},{entId:this.userData.entid})).then((function(e){return e.data}))},getUserList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http("/ccas/auth/user/list");case 2:e.userList=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},onDelete:function(e){var t=this;this.delData({action:function(){return t.$http.post("/send/message/deleteScheduleRecord",e)}})},onTimeChange:function(e){var t=e||[],n=Object(r["a"])(t,2),a=n[0],i=n[1];this.searchForm=Object(c["a"])(Object(c["a"])({},this.searchForm),{},{sendTimeStart:a,sendTimeEnd:i}),this.onSearch()}}}},dbb8:function(e,t,n){"use strict";n.r(t);n("d3b7"),n("3ca3"),n("ddb0");var r=n("14a9"),a=[{path:"/".concat(r["c"]),meta:{title:"短信",icon:"chat-line-square",permissionTag:"sms"},children:[{path:"single",meta:{title:"单发短信",permissionTag:"sms_single"},children:[{path:"my-record",component:function(){return n.e("chunk-82fdad5c").then(n.bind(null,"5b3d"))},meta:{title:"我的短信记录"}},{path:"all-record",component:function(){return n.e("chunk-82fe823c").then(n.bind(null,"4cfe"))},meta:{title:"所有短信记录"}}]},{path:"group",meta:{title:"群发短信",permissionTag:"sms_group"},children:[{path:"send",component:function(){return n.e("chunk-7f2f1ee5").then(n.bind(null,"1e01"))},meta:{title:"短信发送"}},{path:"my-record",component:function(){return n.e("chunk-2d0c46d2").then(n.bind(null,"3b7d"))},meta:{title:"我的短信记录"}},{path:"all-record",component:function(){return n.e("chunk-2d0c1764").then(n.bind(null,"45c0"))},meta:{title:"所有短信记录"}}]},{path:"trigger",meta:{title:"触发器短信",permissionTag:"sms_trigger"},children:[{path:"setting",component:function(){return n.e("chunk-2d221bdb").then(n.bind(null,"cc49"))},meta:{title:"短信触发器设置"}},{path:"record",component:function(){return n.e("chunk-2d0e5fc0").then(n.bind(null,"978d"))},meta:{title:"短信触发器记录"}}]},{path:"setting",meta:{title:"短信设置",permissionTag:"sms_settings"},children:[{path:"template",component:function(){return n.e("chunk-2d225dd5").then(n.bind(null,"e5e4"))},meta:{title:"短信模板管理"}}]}]}];t["default"]={routes:a}}}]);