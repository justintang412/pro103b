(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b605c30"],{5478:function(e,t,a){"use strict";a("c500")},c500:function(e,t,a){},cf6a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.prefix},[a("com-info"),a("main",{class:e.prefix+"_main"},[a("ui-tab-view",{attrs:{tabs:e.tabs}})],1)],1)},o=[],n=(a("d3b7"),a("3ca3"),a("ddb0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["container",{readonly:e.readonly}]},[a("el-scrollbar",{staticClass:"ui-scrollbar"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"inner"},[a("header",{staticClass:"header"},[a("h3",{staticClass:"title"},[e._v("客服信息")]),e.readonly?a("el-button",{staticClass:"btn-edit",attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:e.onEdit}},[e._v("编辑")]):e._e()],1),a("el-form",{ref:"Form",attrs:{"show-message":!1,"label-width":"6em",size:"mini",model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"邮箱账号"}},[a("div",{staticClass:"text",attrs:{title:e.info.email}},[e._v(e._s(e.info.email))])]),a("el-form-item",{attrs:{label:"客服ID"}},[a("div",{staticClass:"text",attrs:{title:e.info.userId}},[e._v(e._s(e.info.userId))])]),a("el-form-item",{attrs:{label:"客服账号"}},[e.readonly?a("div",{staticClass:"text",attrs:{title:e.info.username}},[e._v(e._s(e.info.username))]):a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"真实姓名",prop:"name"}},[e.readonly?a("div",{staticClass:"text",attrs:{title:e.info.name}},[e._v(e._s(e.info.name))]):a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"客服工号",prop:"workNo"}},[e.readonly?a("div",{staticClass:"text",attrs:{title:e.info.workNo}},[e._v(e._s(e.info.workNo))]):a("el-input",{attrs:{maxlength:"20",placeholder:"最多输入20位数字或字母"},model:{value:e.form.workNo,callback:function(t){e.$set(e.form,"workNo",t)},expression:"form.workNo"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[e.readonly?a("div",[e._v(e._s(e.info.phone))]):a("el-input",{attrs:{maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"电话号码",prop:"tel"}},[e.readonly?a("div",[e._v(e._s(e.info.tel))]):a("el-input",{attrs:{maxlength:"30"},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1),a("el-form-item",{attrs:{label:"QQ号码",prop:"qq"}},[e.readonly?a("div",[e._v(e._s(e.info.qq))]):a("el-input",{attrs:{maxlength:"11"},model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1),a("el-form-item",{attrs:{label:"备注信息"}},[e.readonly?a("div",{staticClass:"text"},[e._v(e._s(e.info.remark))]):a("el-input",{attrs:{type:"textarea",rows:"4"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e.readonly?[a("el-divider"),a("el-form-item",{attrs:{label:"上次登录"}},[a("ui-time",{attrs:{time:e.info.lastLoginTime}})],1),a("el-form-item",{attrs:{label:"更新时间"}},[a("div",[e._v(e._s(e.info.modifyTime))])]),a("el-form-item",{attrs:{label:"创建时间"}},[a("div",[e._v(e._s(e.info.createTime))])])]:e._e(),e.readonly?e._e():[a("p",{staticClass:"sep"}),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSave}},[e._v("保存")]),a("el-button",{attrs:{size:"mini"},on:{click:e.onCancel}},[e._v("取消")])],1)]],2)],1)])],1)}),i=[],l=a("3835"),s=a("5530"),m=(a("ac1f"),a("00b4"),a("a02a")),f={data:function(){return{form:{},loading:!1,readonly:!0,rules:{name:Object(m["v"])("真实姓名不允许为空"),workNo:{trigger:"blur",validator:function(e,t,a){!t||/^[0-9a-zA-Z]+$/.test(t)?a():a(new Error("客服工号只能是数字或英文字母"))}},phone:[Object(m["v"])("手机号码不允许为空"),Object(s["a"])({trigger:"blur"},m["d"])],tel:{trigger:"blur",validator:function(e,t,a){!t||m["f"].pattern.test(t)||m["d"].pattern.test(t)?a():a(new Error("电话号码格式不正确"))}},qq:{trigger:"blur",validator:function(e,t,a){!t||/^[1-9]\d{3,}$/.test(t)?a():a(new Error("qq号码为数字，且最小长度为4位"))}}}}},computed:{info:function(){return this.$store.state.userData}},methods:{onEdit:function(){this.form=Object(s["a"])({},this.info),this.readonly=!1},onSave:function(){var e=this;this.$refs.Form.validate((function(t,a){if(t)e.loading=!0,e.$post("/ccas/auth/user/save",e.form).then((function(t){var a=t.data;e.readonly=!0,e.$store.commit("SET_USER_DATA",a),e.$message.success("更新成功")})).finally((function(){e.loading=!1}));else for(var r in a){var o=Object(l["a"])(a[r],1),n=o[0];if(e.$message.error(n.message),r)break}}))},onCancel:function(){this.readonly=!0}}},c=f,u=(a("df00"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"0d09f03b",null),v=d.exports,p={components:{ComInfo:v},data:function(){return{prefix:"page-profile",tabs:[{label:"分配的工单",component:function(){return a.e("chunk-a266b54c").then(a.bind(null,"336b"))}}]}}},b=p,_=(a("5478"),Object(u["a"])(b,r,o,!1,null,null,null));t["default"]=_.exports},df00:function(e,t,a){"use strict";a("fe01")},fe01:function(e,t,a){}}]);