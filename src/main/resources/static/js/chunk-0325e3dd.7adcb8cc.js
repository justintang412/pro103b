(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0325e3dd"],{"09fc":function(e,t,a){},"2cc5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ui-modal",e._g(e._b({},"ui-modal",e.modalProps,!1),e.$listeners),[a("com-message-list",{attrs:{hasMore:e.hasMore,data:e.data,imUser:e.imUser,onLoadmore:e.getData}})],1)},n=[],s=a("2909"),i=a("1da1"),o=(a("96cf"),a("0eec")),c={props:["row","imUser"],components:{ComMessageList:o["a"]},data:function(){return{data:[],hasMore:!0,total:0}},computed:{modalProps:function(){return{drawer:!0,hideOK:!0,cancelText:"关闭",title:"聊天记录 (共".concat(this.total,"条)")}}},mounted:function(){this.getData(),this.getCount(this.row.agentserviceid)},methods:{getData:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$imHttp("/chatMessage/moremsgForAgentServiceid",{params:{size:30,orgi:t.imUser.orgi,agentserviceid:t.row.agentserviceid,messageId:e}});case 2:n=a.sent,i=n.data,(r=t.data).unshift.apply(r,Object(s["a"])(i)),t.hasMore=i.length>0;case 6:case"end":return a.stop()}}),a)})))()},getCount:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$imHttp("/chatMessage/msgTotal",{params:{agentserviceid:e,orgi:t.imUser.orgi}});case 2:r=a.sent,n=r.data,t.total=n;case 5:case"end":return a.stop()}}),a)})))()}}},u=c,m=(a("5c67"),a("2877")),d=Object(m["a"])(u,r,n,!1,null,"6776a4cc",null);t["default"]=d.exports},"5c67":function(e,t,a){"use strict";a("09fc")}}]);