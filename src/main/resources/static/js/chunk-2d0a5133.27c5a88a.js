(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a5133"],{"08c8":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[e.isSuper?n("el-form-item",{attrs:{label:"所属企业"}},[n("ui-ent-select",{on:{change:e.onSearch},model:{value:e.searchForm.entId,callback:function(t){e.$set(e.searchForm,"entId",t)},expression:"searchForm.entId"}})],1):e._e(),n("ui-text-field",{attrs:{label:"队列名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.queueName,callback:function(t){e.$set(e.searchForm,"queueName",t)},expression:"searchForm.queueName"}}),n("ui-select",{attrs:{label:"队列状态",clearable:""},on:{change:e.onSearch},model:{value:e.searchForm.queueState,callback:function(t){e.$set(e.searchForm,"queueState",t)},expression:"searchForm.queueState"}},[n("el-option",{attrs:{label:"停用",value:"0"}}),n("el-option",{attrs:{label:"启用",value:"1"}})],1)]},proxy:!0},{key:"actions",fn:function(){return[n("el-button",{attrs:{icon:"el-icon-arrow-down"},on:{click:e.onCustomField}},[e._v("自定义字段")]),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.onEdit()}}},[e._v("新增")])]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners))},a=[],o=n("5530"),l=n("2909"),i=(n("99af"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("3ca3"),n("ddb0"),n("a02a")),u={name:"CallSkillGroup",mixins:[window.mixTableView],data:function(){var e=["dispatchFlag","queueState"];return{defaultProps:e,selectedProps:[].concat(e),allColumns:[{prop:"waitTime",label:"排队时限"},{prop:"waitCount",label:"最大排队人数"},{prop:"playPosition",label:"报位置",render:function(e,t){var n=t.row;return e("span",{0:"不播放",1:"播放"}[n.playPosition])}},{prop:"waitAnswerTime",label:"等待接通时限"},{prop:"playWorknoFlag",label:"报工号",render:function(e,t){var n=t.row;return e("span",{0:"不播放",1:"播放"}[n.playWorknoFlag])}},{prop:"callNum",label:"外呼主叫号码"},{prop:"queueflag",label:"队列属性"},{prop:"workLevelFlag",label:"技能优先",render:function(e,t){var n=t.row;return e("span",{0:"停用",1:"启用"}[n.workLevelFlag])}},{prop:"dispatchFlag",label:"呼叫分配策略",minWidth:140,render:function(e,t){var n=t.row;return e("span",{0:"按照次序连续分配",1:"轮选（记住最后一个）",2:"每个呼叫都从头开始",3:"随机",4:"最长空闲时间",5:"最少通话时间",6:"最少通话次数"}[n.dispatchFlag])}},{prop:"satisfactionFlag",label:"通话结束转满意度",minWidth:130,render:function(e,t){var n=t.row;return e("span",{0:"停用",1:"启用"}[n.satisfactionFlag])}},{prop:"queueState",label:"状态",render:function(e,t){var n=t.row;return e("el-tag",{props:{type:1===+n.queueState?"primary":"danger"}},1===+n.queueState?"启用":"停用")}},{prop:"contactLevelFlag",label:"客户优先级排队",minWidth:120,render:function(e,t){var n=t.row;return e("span",{0:"排队无选项",1:"排队后语音提示转",2:"不排队直接转"}[n.contactLevelFlag])}},{prop:"queueCount",label:"默认排队次数"},{prop:"queueMail",label:"坐席忙转语音信箱",minWidth:130,render:function(e,t){var n=t.row;return e("span",{0:"排队无选项",1:"排队后语音提示转",2:"不排队直接转"}[n.queueMail])}},{prop:"queueIvr",label:"坐席忙转IVR",render:function(e,t){var n=t.row;return e("span",{0:"停用",1:"启用"}[n.queueIvr])}}]}},computed:{isSuper:function(){return this.$store.getters.isAdmin},columns:function(){var e=this;return[{label:"队列ID",prop:"queueId",fixed:"left"},{label:"队列名",prop:"queueName",fixed:"left"}].concat(Object(l["a"])(this.allColumns.filter((function(t){return e.selectedProps.includes(t.prop)}))),[{label:"操作",width:145,fixed:"right",render:this.$hBtns([{label:"成员管理",action:this.onMemberManagement},{label:"编辑",action:this.onEdit},{label:"删除",action:this.onDelete}])}])}},mounted:function(){this.setInitForm(),this.getData(),Object(i["g"])(this,this.getData)},methods:{setInitForm:function(){this.tableForm={entId:this.$store.state.userData.entid},this.searchForm=Object(o["a"])({},this.tableForm)},onCustomField:function(){var e=this;this.$openModal("UiFieldCustom",{width:"660px",columns:this.allColumns,defaultProps:this.defaultProps,selectedProps:this.selectedProps},{success:function(t){e.selectedProps=t}})},fetchMethod:function(e){return this.$http("/queue/get",{params:e}).then((function(e){return e.data}))},onDelete:function(e){var t=this;this.delData({action:function(){return t.$http("/queue/delete",{params:{entId:e.entId,queueId:e.queueId}})}})},onEdit:function(e){var t=this.searchForm.entId;return this.$openModal((function(){return n.e("chunk-32063e30").then(n.bind(null,"45f7"))}),{row:e,entId:t},{success:this.onEditSuccess})},onMemberManagement:function(e){return this.$openModal((function(){return n.e("chunk-2d22c313").then(n.bind(null,"f1d6"))}),{row:e},{success:this.onEditSuccess})}}},s=u,c=n("2877"),p=Object(c["a"])(s,r,a,!1,null,null,null);t["default"]=p.exports}}]);