(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db864"],{"6fdb":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[n("ui-text-field",{attrs:{label:"企业名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.entname,callback:function(t){e.$set(e.searchForm,"entname",t)},expression:"searchForm.entname"}}),n("ui-select",{attrs:{label:"企业状态",clearable:""},on:{change:e.onSearch},model:{value:e.searchForm.state,callback:function(t){e.$set(e.searchForm,"state",t)},expression:"searchForm.state"}},[n("el-option",{attrs:{label:"启用",value:0}}),n("el-option",{attrs:{label:"停用",value:1}})],1)]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners),[n("el-button",{attrs:{slot:"actions",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.onEdit()}},slot:"actions"},[e._v("新增企业")])],1)},r=[],i=n("1da1"),o=n("2909"),c=(n("96cf"),n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("a02a")),l={name:"SystemCompany",mixins:[window.mixTableView],data:function(){var e=this;return{columns:[{label:"企业ID",prop:"id"},{label:"企业名称",prop:"entname"},{label:"企业地址",prop:"address",minWidth:140},{label:"状态",minWidth:80,render:function(e,t){var n=t.row;return e.apply(void 0,["el-tag"].concat(Object(o["a"])(n.state?[{props:{type:"info"}},"禁用"]:["启用"])))}},{label:"坐席号码段",prop:"worknos"},{label:"外显号码",width:80,fixed:"right",render:this.$hBtns({label:"查看",action:this.onViewExplicitNumber})},{label:"机器人场景",width:90,fixed:"right",render:this.$hBtns({label:"查看",action:this.onViewRobotScene})},{label:"授权码",width:90,fixed:"right",render:this.$hBtns({label:"查看",action:this.onViewAuthCode})},{label:"操作",width:100,fixed:"right",render:function(t,n){var a=n.row;return e.$hBtns([{label:"编辑",action:e.onEdit},0!==a.id&&{label:"删除",action:e.onDelete}])(t,{row:a})}}]}},mounted:function(){this.getData(),Object(c["g"])(this,this.getData)},methods:{onViewExplicitNumber:function(e){this.$router.push("".concat(this.$route.path,"/explicit-number/").concat(e.id))},onViewRobotScene:function(e){this.$openModal((function(){return n.e("chunk-2d0c4662").then(n.bind(null,"3b52"))}),{row:e})},fetchMethod:function(e){return this.$http("/ccas/ent/entInfo/search",{params:e}).then((function(e){var t=e.data;return t}))},onEdit:function(e){var t=this;this.$openModal((function(){return n.e("chunk-2d0c8615").then(n.bind(null,"5543"))}),{row:e},{success:function(e){t.onEditSuccess(e)}})},onDelete:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.delData({desc:"确定要删除所选企业？",action:function(){return t.$post("/ccas/ent/entInfo/".concat(e.id,"/del"))}});case 2:case"end":return n.stop()}}),n)})))()},onViewAuthCode:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.prev=1,n.t0=t,n.t1="授权码为：",n.next=6,t.$http("/ccas/ent/entInfo/authKey/".concat(e.id));case 6:n.t2=n.sent.authCode,n.t3=n.t1.concat.call(n.t1,n.t2),n.t0.$alert.call(n.t0,n.t3,"提示"),n.next=13;break;case 11:n.prev=11,n.t4=n["catch"](1);case 13:t.loading=!1;case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()}}},s=l,u=n("2877"),h=Object(u["a"])(s,a,r,!1,null,null,null);t["default"]=h.exports}}]);