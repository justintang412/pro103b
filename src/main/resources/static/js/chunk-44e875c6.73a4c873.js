(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44e875c6"],{"59ba":function(e,t,n){},7129:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-modal",e._g(e._b({},"ui-modal",e.modalProps,!1),e.$listeners),[n("div",{staticClass:"container"},[n("ui-table-view",e._g(e._b({ref:"Table"},"ui-table-view",Object.assign({},e.viewProps,{hidePager:!0,rowKey:"userId"}),!1),e.viewListeners)),n("div",{staticClass:"rightbox"},[n("header",{staticClass:"rb-header"},[n("span",[e._v("已选 "),n("b",[e._v(e._s(e.selectedRow.length))]),e._v(" 个客服")]),n("el-link",{attrs:{type:"primary",underline:!1},on:{click:e.onRemoveAll}},[e._v("全部移除")])],1),n("main",{staticClass:"rb-main"},[n("ul",e._l(e.selectedRow,(function(t){return n("li",{key:t.userId},[n("div",[n("h4",[e._v(e._s(t.username))]),n("p",[e._v(e._s(t.email))])]),n("el-link",{staticClass:"btn-remove",attrs:{icon:"el-icon-close",underline:!1},on:{click:function(n){return e.onRemove(t)}}})],1)})),0)])])],1)])},i=[],a=n("5530"),o=n("1da1"),s=n("2909"),c=(n("96cf"),n("d81d"),n("b0c0"),n("99af"),n("d3b7"),n("159b"),n("4de4"),{mixins:[window.mixTableView],props:["user"],data:function(){var e=this;return{modalProps:{title:"添加客服",width:"800px",onSubmit:function(){return e.$imHttp.post("/customer/",e.selectedRow.map((function(t){return{name:t.name,nickname:t.username,email:t.email,status:t.state,orgi:e.user.orgi,userid:t.userId,agentno:t.agentno}})))}},columns:[{type:"selection"},{label:"客服名称",prop:"username"},{label:"账号状态",render:function(e,t){var n=t.row;return e.apply(void 0,["el-tag"].concat(Object(s["a"])(n.state?[{props:{type:"info"}},"禁用"]:["启用"])))}},{label:"邮箱",prop:"email",minWidth:120}]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:return t.next=4,e.$imHttp("/customer/list",{params:{orgi:e.user.orgi}});case 4:n=t.sent,r=n.data,i=e.getTable(),i.toggleAllSelection(),setTimeout((function(){Object(s["a"])(e.selectedRow).forEach((function(e){r.every((function(t){return e.userId!==t.userid}))&&i.toggleRowSelection(e,!1)}))}),10);case 9:case"end":return t.stop()}}),t)})))()},methods:{fetchMethod:function(){return this.$http("/ccas/auth/user/list").then((function(e){var t=e.data;return{data:t.filter((function(e){return e.workNo})).map((function(e){return Object(a["a"])(Object(a["a"])({},e),{},{agentno:e.workNo})}))}}))},getTable:function(){return this.$refs.Table.getTable()},onRemove:function(e){this.getTable().toggleRowSelection(e,!1)},onRemoveAll:function(){this.getTable().clearSelection()}}}),l=c,u=(n("f4bb"),n("2877")),d=Object(u["a"])(l,r,i,!1,null,"7bc714b8",null);t["default"]=d.exports},f4bb:function(e,t,n){"use strict";n("59ba")}}]);