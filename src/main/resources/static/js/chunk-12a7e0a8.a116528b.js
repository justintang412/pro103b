(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12a7e0a8"],{"0e154":function(e,t,a){},7329:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-pagination",{staticClass:"is-background",staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{"current-page":e.paginationInfo.currentPage,"page-sizes":e.paginationInfo.pageSizes,"page-size":e.paginationInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.paginationInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},o=[],r={props:{paginationInfo:{type:Object,required:!0}},methods:{handleSizeChange:function(e){this.paginationInfo.pageSize=e,this.$emit("sizeChange",e)},handleCurrentChange:function(e){this.paginationInfo.currentPage=e,this.$emit("currentChange",e)}}},i=r,s=a("2877"),l=Object(s["a"])(i,n,o,!1,null,null,null);t["a"]=l.exports},c251:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"callManage"},[a("el-form",{ref:"form",staticClass:"el-form el-form--inline",attrs:{model:e.searchForm}},[a("el-form-item",{attrs:{label:"申诉时间"}},[a("el-radio-group",{on:{change:e.handleStartTime},model:{value:e.searchForm.startTime,callback:function(t){e.$set(e.searchForm,"startTime",t)},expression:"searchForm.startTime"}},[a("el-radio-button",{attrs:{label:"最近24小时"}}),a("el-radio-button",{attrs:{label:"最近3天"}}),a("el-radio-button",{attrs:{label:"最近7天"}}),a("el-radio-button",{attrs:{label:"最近30天"}}),a("el-radio-button",{attrs:{label:"自定义时间"}})],1),e.isTimeRangeShow?a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.handleStartDateRange},model:{value:e.searchForm.startTimeRange,callback:function(t){e.$set(e.searchForm,"startTimeRange",t)},expression:"searchForm.startTimeRange"}}):e._e()],1),a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:e.searchForm.keyword,callback:function(t){e.$set(e.searchForm,"keyword",t)},expression:"searchForm.keyword"}})],1),a("el-form-item",{staticStyle:{"margin-right":"0",float:"right"}},[a("el-button",{staticClass:"btn-filter",attrs:{type:"text",icon:"el-icon-s-operation"},on:{click:e.searchMore}},[e._v("高级搜索")]),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{icon:"el-icon-search"},on:{click:function(t){return e.getDataList(1)}}},[e._v("查询")]),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{icon:"el-icon-refresh"},on:{click:e.onReset}},[e._v("重置")])],1),a("br"),e.isShowSearchMore?a("el-form-item",{attrs:{label:"申诉状态"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择类型"},model:{value:e.searchForm.complaintState,callback:function(t){e.$set(e.searchForm,"complaintState",t)},expression:"searchForm.complaintState"}},e._l(e.complaintStateList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.isShowSearchMore?a("el-form-item",{attrs:{label:"呼叫方向"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择呼叫方向"},model:{value:e.searchForm.dir,callback:function(t){e.$set(e.searchForm,"dir",t)},expression:"searchForm.dir"}},[a("el-option",{attrs:{label:"呼出",value:"0"}}),a("el-option",{attrs:{label:"呼入",value:"1"}})],1)],1):e._e()],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"通话ID",prop:"cdrId","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{label:"文件名",prop:"fileName","show-overflow-tooltip":"","min-width":"80"}}),a("el-table-column",{attrs:{label:"申诉时间",prop:"insertTime","show-overflow-tooltip":"","min-width":"110"}}),a("el-table-column",{attrs:{label:"上传时间",prop:"endtime","show-overflow-tooltip":"","min-width":"110"}}),a("el-table-column",{attrs:{label:"发话时间",prop:"conDuration","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{label:"通话时长",prop:"insertTime","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{label:"坐席ID",prop:"seatsId","show-overflow-tooltip":"","min-width":"80"}}),a("el-table-column",{attrs:{label:"坐席姓名",prop:"seatsName","show-overflow-tooltip":"","min-width":"80"}}),a("el-table-column",{attrs:{label:"客户姓名",prop:"customerName","show-overflow-tooltip":"","min-width":"80"}}),a("el-table-column",{attrs:{label:"客户电话",prop:"dir","min-width":"80"}}),a("el-table-column",{attrs:{label:"主叫号码",prop:"caller","show-overflow-tooltip":"","min-width":"80"}}),a("el-table-column",{attrs:{label:"被叫号码",prop:"called","show-overflow-tooltip":"","min-width":"80"}}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"ui-text-btns"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleResult(n)}}},[e._v("查看")])],1)]}}])})],1),a("ComPagination",{ref:"ComPagination",attrs:{paginationInfo:e.paginationInfo},on:{sizeChange:e.handleSizeChange,currentChange:e.handleCurrentChange}})],1)},o=[],r=a("1da1"),i=(a("99af"),a("96cf"),a("71df")),s=a("fa65"),l=function(e){return Object(s["e"])("/cti/Complaint/listByPage",{params:e})},c=a("7329"),u={name:"QualityAppeal",components:{ComPagination:c["a"]},data:function(){return{searchForm:{},complaintStateList:[{value:1,label:"已提交"},{value:2,label:"已处理"}],isTimeRangeShow:!1,isShowSearchMore:!1,tableData:[],paginationInfo:{currentPage:1,pageSizes:[10,20,30,40],pageSize:10,total:0},loading:!1}},created:function(){this.getDataList()},computed:{loginUser:function(){return this.$store.state.roles}},methods:{getDataList:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={startTime:t.searchForm.startTimeRange?t.$adminCore.formatDate(t.searchForm.startTimeRange[0]):null,endTime:t.searchForm.startTimeRange?t.$adminCore.formatDate(t.searchForm.startTimeRange[1]):null,dir:t.searchForm.dir,complaintState:t.searchForm.complaintState||1,keyword:t.searchForm.keyword,offset:e||1+(t.paginationInfo.currentPage-1)*t.paginationInfo.pageSize,size:t.paginationInfo.pageSize},t.loading=!0,a.next=4,l(n);case 4:o=a.sent,o.ok?o.data.count>=0&&(t.tableData=o.data.rows,t.paginationInfo.total=o.data.count):t.$message.error(o.info),t.loading=!1;case 7:case"end":return a.stop()}}),a)})))()},handleStartDateRange:function(){this.searchForm.startTime=this.searchForm.startTimeRange},handleResult:function(e){this.$router.push({path:"/".concat(i["a"],"/qualityInspectionResult/").concat(e.id)})},handleStartTime:function(){var e=new Date,t=new Date;"最近24小时"===this.searchForm.startTime?(t.setTime(t.getTime()-864e5),this.searchForm.startTimeRange=[t,e]):"最近3天"===this.searchForm.startTime?(t.setTime(t.getTime()-2592e5),this.searchForm.startTimeRange=[t,e]):"最近7天"===this.searchForm.startTime?(t.setTime(t.getTime()-6048e5),this.searchForm.startTimeRange=[t,e]):"最近30天"===this.searchForm.startTime&&(t.setTime(t.getTime()-2592e6),this.searchForm.startTimeRange=[t,e]),"自定义时间"===this.searchForm.startTime?this.isTimeRangeShow=!this.isTimeRangeShow:this.isTimeRangeShow=!1},searchMore:function(){this.isShowSearchMore=!this.isShowSearchMore},onReset:function(){this.searchForm={},this.isShowSearchMore=!1,this.$set(this.paginationInfo,"currentPage",1),this.getDataList()},handleSizeChange:function(e){var t=this;this.$nextTick((function(){t.paginationInfo.pageSize=e,t.$set(t.paginationInfo,"offset",1+(t.paginationInfo.currentPage-1)*e),t.getDataList()}))},handleCurrentChange:function(e){var t=this;this.$nextTick((function(){t.paginationInfo.currentPage=e,t.$set(t.paginationInfo,"offset",1+(e-1)*t.paginationInfo.pageSize),t.getDataList()}))}},deactivated:function(){this.$destroy("QualityAppeal")}},h=u,m=(a("f28d"),a("2877")),p=Object(m["a"])(h,n,o,!1,null,"7dc765fc",null);t["default"]=p.exports},f28d:function(e,t,a){"use strict";a("0e154")},fa65:function(e,t,a){"use strict";a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return w}));a("d3b7"),a("b0c0");var n=a("4328"),o=a.n(n),r=a("bc3a"),i=a.n(r),s=a("5c96"),l=a("e5ac"),c=a("a02a"),u=a("60e2"),h=function(e){var t=e.statusCode,a=e.message,n=e.data,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o&&s["Message"].error(a||"发生未知异常");var r=new Error(a);return r.data=n,r.statusCode=t,Promise.reject(r)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],a=i.a.create();return a.defaults.baseURL=t,a.defaults.withCredentials=!0,e&&(a.defaults.transformRequest=[function(e){return o.a.stringify(e)}]),a.interceptors.request.use((function(e){var t=sessionStorage.getItem("token");return t&&!1!==e.isAuth&&(e.headers.Authorization=t),e})),a.interceptors.response.use((function(e){var t=e.data;return t instanceof Blob&&(t.name=Object(c["n"])(e.headers["content-disposition"])),"number"===typeof t.code?t.code?h({message:t.msg,data:t,statusCode:e.status}):t:!1!==t.ok?(Object(l["b"])(e.config.url)&&sessionStorage.setItem("token",e.headers.authorization||e.headers.Authorization),t):h({message:t.info,data:t,statusCode:e.status},"-20"!==t.code)}),(function(e){var t=e.response,a=t||{},n=a.data,o=a.status,r=t?n.info||e.message:"请求失败，请稍候重试";return 401===o?(sessionStorage.removeItem("token"),window.opener?window.close():(c["t"].close(),l["a"].dispatch("GO_LOGIN")),h({message:r,data:n,statusCode:o},!1)):h({message:r,data:n,statusCode:o})})),a},p=m(!0,u["b"]),d=m(),f=m(!0),g=function(){return f.post.apply(f,arguments)},b=m(!1,u["b"]),w=function(){return p.post.apply(p,arguments)}}}]);