(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1bdb"],{"7c70":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[e.isSuper?r("el-form-item",{attrs:{label:"所属企业"}},[r("ui-ent-select",{on:{change:e.onSearch},model:{value:e.searchForm.entId,callback:function(t){e.$set(e.searchForm,"entId",t)},expression:"searchForm.entId"}})],1):e._e(),r("ui-text-field",{attrs:{placeholder:"请输入队列名/队列ID查询"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.queue,callback:function(t){e.$set(e.searchForm,"queue",t)},expression:"searchForm.queue"}})]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners))},a=[],i=r("1da1"),o=r("5530"),l=(r("96cf"),r("d81d"),r("a02a")),u={name:"HomeQueueMonitor",mixins:[window.mixTableView],data:function(){return{columns:[{label:"队列名",prop:"queueName"},{label:"队列ID",minWidth:80,prop:"queueId"},{label:"登录坐席数",prop:"loginWorkNum"},{label:"排队用户数",prop:"waitUserCount"},{label:"有效坐席数",prop:"validWorkNum"},{label:"通话坐席数",prop:"callWorkNum"},{label:"总电话数",minWidth:80,prop:"allCallNum"},{label:"坐席接通数(24h)",minWidth:120,prop:"workCallNum"},{label:"呼叫放弃数(24h)",minWidth:120,prop:"callCancelNum"},{label:"平均放弃时长(24h)",minWidth:140,prop:"aveCancelTime"},{label:"接通率",minWidth:80,render:function(e,t){var r=t.row;return e("div",100*r.callRate+"%")}}]}},computed:{isSuper:function(){return this.$store.getters.isAdmin}},created:function(){this.setInitForm(),this.getData(),Object(l["g"])(this,this.getData,this.clearTimer),this.$once("hook:beforeDestroy",this.clearTimer)},methods:{clearTimer:function(){clearTimeout(this.tid),this.tid=null},setInitForm:function(){this.tableForm={entId:this.$store.state.userData.entid},this.searchForm=Object(o["a"])({},this.tableForm)},fetchMethod:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$post("/monitor/queue/search",e);case 2:return n=r.sent,a=n.data,t.clearTimer(),t.tid=setTimeout(t.getData.bind(t),5e3),r.abrupt("return",{total:a.total,data:a.list.map((function(e){return Object(o["a"])(Object(o["a"])(Object(o["a"])({},e),e.monitorAcdWorkInfoNumPO),e.monitorCallInfoNumPO)}))});case 7:case"end":return r.stop()}}),r)})))()}}},c=u,s=r("2877"),m=Object(s["a"])(c,n,a,!1,null,null,null);t["default"]=m.exports}}]);