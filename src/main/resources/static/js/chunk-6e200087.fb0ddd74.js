(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e200087"],{"00be":function(e,t,a){"use strict";a("8093")},"2e6a":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var r=a("fa65"),n=function(e){return Object(r["e"])("/cti/cdr/voiceCheckResult",{params:e})},o=function(e){return Object(r["e"])("/cti/cdr",{params:e})},i=function(){return Object(r["e"])("/intelligent/task/getIntelligentList")}},7329:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-pagination",{staticClass:"is-background",staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{"current-page":e.paginationInfo.currentPage,"page-sizes":e.paginationInfo.pageSizes,"page-size":e.paginationInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.paginationInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],o={props:{paginationInfo:{type:Object,required:!0}},methods:{handleSizeChange:function(e){this.paginationInfo.pageSize=e,this.$emit("sizeChange",e)},handleCurrentChange:function(e){this.paginationInfo.currentPage=e,this.$emit("currentChange",e)}}},i=o,s=a("2877"),l=Object(s["a"])(i,r,n,!1,null,null,null);t["a"]=l.exports},8093:function(e,t,a){},fa65:function(e,t,a){"use strict";a.d(t,"e",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return w}));a("d3b7"),a("b0c0");var r=a("4328"),n=a.n(r),o=a("bc3a"),i=a.n(o),s=a("5c96"),l=a("e5ac"),c=a("a02a"),u=a("60e2"),h=function(e){var t=e.statusCode,a=e.message,r=e.data,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&s["Message"].error(a||"发生未知异常");var o=new Error(a);return o.data=r,o.statusCode=t,Promise.reject(o)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],a=i.a.create();return a.defaults.baseURL=t,a.defaults.withCredentials=!0,e&&(a.defaults.transformRequest=[function(e){return n.a.stringify(e)}]),a.interceptors.request.use((function(e){var t=sessionStorage.getItem("token");return t&&!1!==e.isAuth&&(e.headers.Authorization=t),e})),a.interceptors.response.use((function(e){var t=e.data;return t instanceof Blob&&(t.name=Object(c["n"])(e.headers["content-disposition"])),"number"===typeof t.code?t.code?h({message:t.msg,data:t,statusCode:e.status}):t:!1!==t.ok?(Object(l["b"])(e.config.url)&&sessionStorage.setItem("token",e.headers.authorization||e.headers.Authorization),t):h({message:t.info,data:t,statusCode:e.status},"-20"!==t.code)}),(function(e){var t=e.response,a=t||{},r=a.data,n=a.status,o=t?r.info||e.message:"请求失败，请稍候重试";return 401===n?(sessionStorage.removeItem("token"),window.opener?window.close():(c["t"].close(),l["a"].dispatch("GO_LOGIN")),h({message:o,data:r,statusCode:n},!1)):h({message:o,data:r,statusCode:n})})),a},d=m(!0,u["b"]),p=m(),f=m(!0),g=function(){return f.post.apply(f,arguments)},b=m(!1,u["b"]),w=function(){return d.post.apply(d,arguments)}},fdcb:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"callManage"},[a("el-form",{ref:"form",staticClass:"el-form el-form--inline",attrs:{model:e.searchForm}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-radio-group",{on:{change:e.handleStartTime},model:{value:e.searchForm.startTime,callback:function(t){e.$set(e.searchForm,"startTime",t)},expression:"searchForm.startTime"}},[a("el-radio-button",{attrs:{label:"最近24小时"}}),a("el-radio-button",{attrs:{label:"最近3天"}}),a("el-radio-button",{attrs:{label:"最近7天"}}),a("el-radio-button",{attrs:{label:"最近30天"}}),a("el-radio-button",{attrs:{label:"自定义时间"}})],1),e.isTimeRangeShow?a("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.handleStartDateRange},model:{value:e.searchForm.startTimeRange,callback:function(t){e.$set(e.searchForm,"startTimeRange",t)},expression:"searchForm.startTimeRange"}}):e._e()],1),a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"150px"},attrs:{placeholder:"请输入内容"},model:{value:e.searchForm.keywords,callback:function(t){e.$set(e.searchForm,"keywords",t)},expression:"searchForm.keywords"}})],1),a("el-form-item",{staticStyle:{"margin-right":"0",float:"right"}},[a("el-button",{staticClass:"btn-filter",attrs:{type:"text",icon:"el-icon-s-operation"},on:{click:e.searchMore}},[e._v("高级搜索")]),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{icon:"el-icon-search"},on:{click:function(t){return e.getDataList(1)}}},[e._v("查询")]),a("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{icon:"el-icon-refresh"},on:{click:e.onReset}},[e._v("重置")])],1),a("br"),e.isShowSearchMore?a("el-form-item",{attrs:{label:"质检任务"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择类型"},model:{value:e.searchForm.task,callback:function(t){e.$set(e.searchForm,"task",t)},expression:"searchForm.task"}},e._l(e.taskList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.isShowSearchMore?a("el-form-item",{attrs:{label:"通话时长"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"60px"},attrs:{placeholder:"(秒)"},model:{value:e.searchForm.callStart,callback:function(t){e.$set(e.searchForm,"callStart",t)},expression:"searchForm.callStart"}}),e._v(" - "),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"60px"},attrs:{placeholder:"(秒)"},model:{value:e.searchForm.callEnd,callback:function(t){e.$set(e.searchForm,"callEnd",t)},expression:"searchForm.callEnd"}})],1):e._e(),e.isShowSearchMore?a("el-form-item",{attrs:{label:"上传时间"}},[a("el-date-picker",{attrs:{type:"daterange",size:"small","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.handleUploadDateRange},model:{value:e.searchForm.uploadTimeRange,callback:function(t){e.$set(e.searchForm,"uploadTimeRange",t)},expression:"searchForm.uploadTimeRange"}})],1):e._e(),e.isShowSearchMore?a("el-form-item",{attrs:{label:"呼叫方向"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择呼叫方向"},model:{value:e.searchForm.callDirection,callback:function(t){e.$set(e.searchForm,"callDirection",t)},expression:"searchForm.callDirection"}},[a("el-option",{attrs:{label:"呼出",value:"0"}}),a("el-option",{attrs:{label:"呼入",value:"1"}})],1)],1):e._e(),e.isShowSearchMore?a("el-form-item",{attrs:{label:"是否为教材"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择是否为教材"},model:{value:e.searchForm.teachingMaterial,callback:function(t){e.$set(e.searchForm,"teachingMaterial",t)},expression:"searchForm.teachingMaterial"}},[a("el-option",{attrs:{label:"未添加",value:"0"}}),a("el-option",{attrs:{label:"已添加",value:"1"}})],1)],1):e._e()],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"通话ID",prop:"cdrId","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{label:"开始时间",prop:"starttime","show-overflow-tooltip":"","min-width":"110"}}),a("el-table-column",{attrs:{label:"结束时间",prop:"endtime","show-overflow-tooltip":"","min-width":"110"}}),a("el-table-column",{attrs:{label:"通话时长",prop:"conDuration","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{label:"坐席工号",prop:"seatsId","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{label:"坐席姓名",prop:"seatsName","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{label:"客户姓名",prop:"customerName","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{label:"呼叫方向","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[1===r.dir?a("el-tag",{attrs:{effect:"plain"}},[e._v("呼入")]):a("el-tag",{attrs:{effect:"plain",type:"success"}},[e._v("呼出")])]}}])}),a("el-table-column",{attrs:{label:"主叫号码",prop:"caller","show-overflow-tooltip":"","min-width":"80"}}),a("el-table-column",{attrs:{label:"被叫号码",prop:"called","show-overflow-tooltip":"","min-width":"80"}}),a("el-table-column",{attrs:{label:"状态","show-overflow-tooltip":"","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[null===r.state||0===r.state?a("span",[e._v("未质检")]):e._e(),1===r.state?a("span",[e._v("质检中")]):e._e(),2===r.state?a("span",[e._v("完成质检")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"是否为教材","show-overflow-tooltip":"","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[1===r.teachingMaterial?a("el-tag",{attrs:{effect:"plain",type:"success"}},[e._v("已添加")]):a("el-tag",{attrs:{effect:"plain",type:"info"}},[e._v("未添加")])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("div",{staticClass:"ui-text-btns"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleResult(r)}}},[e._v("质检结果")])],1)]}}])})],1),a("ComPagination",{ref:"ComPagination",attrs:{paginationInfo:e.paginationInfo},on:{sizeChange:e.handleSizeChange,currentChange:e.handleCurrentChange}})],1)},n=[],o=a("1da1"),i=(a("99af"),a("96cf"),a("2e6a")),s=a("7329"),l=a("71df"),c={name:"QualityCallManage",components:{ComPagination:s["a"]},data:function(){return{routeId:null,searchForm:{uploadTime:"",uploadTimeRange:"",keywords:null,task:"",callDirection:"",callConnectionTime:null,callUploadTime:"",callStart:null,callEnd:null,startTime:"",startTimeRange:""},taskList:[],isTimeRangeShow:!1,isShowSearchMore:!1,tableData:[],paginationInfo:{currentPage:1,pageSizes:[10,20,30,40],pageSize:10,total:0},loading:!1,ruleGroup:["对话规则"]}},created:function(){this.$route.query.task||this.getDataList()},mounted:function(){this.getTaskListArr()},computed:{},methods:{getRouteId:function(){this.routeId=this.$route.query.task},routeIdUpdate:function(e){var t=this.taskList;for(var a in t)t[a].value===e&&(this.searchForm.task=t[a].value,this.getDataList(1))},getDataList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={intelligentId:t.searchForm.task,startTime:t.searchForm.startTimeRange?t.$adminCore.formatDate(t.searchForm.startTimeRange[0]):null,endTime:t.searchForm.startTimeRange?t.$adminCore.formatDate(t.searchForm.startTimeRange[1]):null,dir:t.searchForm.callDirection,str:t.searchForm.callStart,end:t.searchForm.callEnd,keyword:t.searchForm.keywords,teachingMaterial:t.searchForm.teachingMaterial,uploadstartTime:t.searchForm.uploadTimeRange?t.$adminCore.formatDate(t.searchForm.uploadTimeRange[0]):null,uploadendTime:t.searchForm.uploadTimeRange?t.$adminCore.formatDate(t.searchForm.uploadTimeRange[1]):null,offset:e||1+(t.paginationInfo.currentPage-1)*t.paginationInfo.pageSize,size:t.paginationInfo.pageSize},t.loading=!0,a.next=4,Object(i["a"])(r);case 4:n=a.sent,n.ok?(t.tableData=n.data.rows,t.paginationInfo.total=n.data.count):t.$message.error(n.info),t.loading=!1;case 7:case"end":return a.stop()}}),a)})))()},getTaskListArr:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])();case 2:if(a=t.sent,a.ok){for(r=0;r<a.data.length;r++)e.taskList.push({value:a.data[r].id,label:a.data[r].intelligenttaskName});e.getRouteId(),e.routeIdUpdate(e.routeId)}else e.$message.error(a.info);case 4:case"end":return t.stop()}}),t)})))()},handleResult:function(e){this.$router.push({path:"/".concat(l["a"],"/qualityInspectionResult/").concat(e.id)})},handleStartTime:function(){var e=new Date,t=new Date;"最近24小时"===this.searchForm.startTime?(t.setTime(t.getTime()-864e5),this.searchForm.startTimeRange=[t,e]):"最近3天"===this.searchForm.startTime?(t.setTime(t.getTime()-2592e5),this.searchForm.startTimeRange=[t,e]):"最近7天"===this.searchForm.startTime?(t.setTime(t.getTime()-6048e5),this.searchForm.startTimeRange=[t,e]):"最近30天"===this.searchForm.startTime&&(t.setTime(t.getTime()-2592e6),this.searchForm.startTimeRange=[t,e]),"自定义时间"===this.searchForm.startTime?this.isTimeRangeShow=!this.isTimeRangeShow:this.isTimeRangeShow=!1},handleStartDateRange:function(){this.searchForm.startTime=this.searchForm.startTimeRange},handleUploadDateRange:function(){},searchMore:function(){this.isShowSearchMore=!this.isShowSearchMore},onReset:function(){this.searchForm={},this.isShowSearchMore=!1,this.$set(this.paginationInfo,"currentPage",1),this.getDataList()},handleSizeChange:function(e){var t=this;this.$nextTick((function(){t.paginationInfo.pageSize=e,t.$set(t.paginationInfo,"offset",1+(t.paginationInfo.currentPage-1)*e),t.getDataList()}))},handleCurrentChange:function(e){var t=this;this.$nextTick((function(){t.paginationInfo.currentPage=e,t.$set(t.paginationInfo,"offset",1+(e-1)*t.paginationInfo.pageSize),t.getDataList()}))}},deactivated:function(){this.$destroy("QualityCallManage")}},u=c,h=(a("00be"),a("2877")),m=Object(h["a"])(u,r,n,!1,null,"50952a17",null);t["default"]=m.exports}}]);