(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f066d"],{"9be3":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ui-modal",e._g(e._b({},"ui-modal",e.modalProps,!1),e.$listeners),[i("el-form",{attrs:{"label-width":"4em"}},[i("el-form-item",{attrs:{label:"资源"}},[i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:e.onSelect}},[e._v("选择文件")]),"video"===e.type?[i("input",{directives:[{name:"show",rawName:"v-show",value:0,expression:"0"}],ref:"File",attrs:{type:"file",accept:"video/*"},on:{change:e.onChange}}),i("p",{staticClass:"tip"},[e._v("* 仅支持体积不超过20M的视频类型文件")])]:[i("input",{directives:[{name:"show",rawName:"v-show",value:0,expression:"0"}],ref:"File",attrs:{type:"file",accept:"image/*"},on:{change:e.onChange}}),i("p",{staticClass:"tip"},[e._v("* 仅支持体积不超过20M的图片类型文件")])],i("div",[e._v(e._s(e.file&&e.file.name))])],2),i("ui-text-field",{attrs:{label:"描述",type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)},n=[],r=i("5530"),s=i("1da1"),o=(i("96cf"),i("a4d3"),i("e01a"),i("2ca0"),i("ac1f"),i("1276"),i("a02a")),l={props:["type"],data:function(){var e=this,t=this.type;return{form:{},file:null,modalProps:{title:"添加".concat("video"===t?"视频":"图片"),onSubmit:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return!e.file&&Object(o["C"])("请选择文件"),i=e.form,a=new FormData,a.append("file",e.file),a.append("fileType",i.fileType),i.description&&a.append("description",i.description),t.next=8,e.$http.post("/file/handle/ccasUpload",a);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));function i(){return t.apply(this,arguments)}return i}()}}},methods:{onSelect:function(){this.$refs.File.click()},onChange:function(e){var t=e.target,i=t.files[0];t.value="",i&&(i.type.startsWith(this.type)?i.size>20971520?Object(o["C"])("文件大小不能超过20M"):(this.file=i,this.form=Object(r["a"])(Object(r["a"])({},this.form),{},{fileType:i.type.split("/")[0]})):Object(o["C"])("请选择".concat("video"===this.type?"视频":"图片","文件")))}}},c=l,p=i("2877"),f=Object(p["a"])(c,a,n,!1,null,null,null);t["default"]=f.exports}}]);