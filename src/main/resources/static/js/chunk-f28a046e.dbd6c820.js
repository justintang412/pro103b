(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f28a046e"],{"498a":function(t,e,r){"use strict";var n=r("23e7"),o=r("58a8").trim,a=r("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return o(this)}})},5835:function(t,e,r){},c8d2:function(t,e,r){var n=r("5e77").PROPER,o=r("d039"),a=r("5899"),s="​᠎";t.exports=function(t){return o((function(){return!!a[t]()||s[t]()!==s||n&&a[t].name!==t}))}},d052:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ui-modal",t._g(t._b({},"ui-modal",t.modalProps,!1),t.$listeners),[r("el-form",{ref:"Form",attrs:{"label-width":"6em",model:t.form,rules:t.rules}},[r("ui-text-field",{attrs:{label:"字段标题",prop:"name",placeholder:"标题为必填项，上限20个字符",maxlength:"20"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),r("ui-text-field",{attrs:{label:"字段描述",autosize:{minRows:3},type:"textarea",placeholder:"描述内容的上限字符为150个字符",maxlength:"150"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),r("el-form-item",{attrs:{label:"字段类型",prop:"type"}},[r("el-select",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.types,(function(t,e){return r("el-option",{key:e,attrs:{value:+e,label:t}})})),1)],1),t.hasOptions(t.form.type)?r("el-form-item",{attrs:{label:"选项设置"}},[r("ul",{staticClass:"options"},t._l(t.form.orderFieldDataLists,(function(e,n){return r("li",{key:n},[r("el-input",{ref:"Input",refInFor:!0,attrs:{maxlength:"30",placeholder:"标题为必填项，上限30个字符"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&t._k(r.keyCode,"enter",13,r.key,"Enter")?null:t.onAddOption(e)}},model:{value:e.content,callback:function(r){t.$set(e,"content",r)},expression:"_.content"}}),r("el-button",{staticClass:"btn-remove",attrs:{icon:"el-icon-remove",type:"text"},on:{click:function(e){return t.onDelOption(n)}}})],1)})),0),r("el-button",{attrs:{icon:"el-icon-circle-plus",type:"text"},on:{click:function(e){return t.onAddOption()}}},[t._v("添加选项")])],1):t._e(),r("el-form-item",{attrs:{label:"是否必填"}},[r("el-radio-group",{model:{value:t.form.flag,callback:function(e){t.$set(t.form,"flag",e)},expression:"form.flag"}},[r("el-radio",{attrs:{label:0}},[t._v("否")]),r("el-radio",{attrs:{label:1}},[t._v("是")])],1)],1),r("el-form-item",{attrs:{label:"状态"}},[r("el-switch",{staticStyle:{"margin-right":"5px"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),r("span",[t._v(t._s(t.form.status?"开启":"关闭"))])],1)],1)],1)},o=[],a=r("1da1"),s=r("5530"),i=(r("96cf"),r("e9c4"),r("4de4"),r("d3b7"),r("d81d"),r("498a"),r("a434"),r("a02a")),l=r("fffc"),c={props:["row","maxPos"],data:function(){var t=this;return{types:l["h"],rules:{name:Object(i["y"])("请输入标题"),type:Object(i["z"])("请选择字段类型")},form:this.row?Object(s["a"])(Object(s["a"])({},JSON.parse(JSON.stringify(this.row))),{},{status:!!this.row.status}):{flag:0,status:!1,position:this.maxPos+1,orderFieldDataLists:[]},modalProps:{drawer:!0,isEdit:!!this.row,onSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.Form.validate();case 2:return e.next=4,t.$http.post("/orderField/".concat(t.row?"update":"save"),Object(s["a"])(Object(s["a"])({},t.form),{},{status:+t.form.status,orderFieldDataLists:t.hasOptions(t.form.type)?t.form.orderFieldDataLists.map((function(t){return Object(s["a"])(Object(s["a"])({},t),{},{content:t.content.trim()})})).filter((function(t){return t.content})):[]}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()}}},methods:{hasOptions:l["l"],onAddOption:function(t){var e=this,r=this.form.orderFieldDataLists,n={content:""};if(t){var o=r.indexOf(t)+1;r.splice(o,0,n)}else r.push(n);var a=r.indexOf(n);this.$nextTick((function(){e.$refs.Input[a].focus()}))},onDelOption:function(t){this.form.orderFieldDataLists.splice(t,1)}}},u=c,f=(r("d467"),r("2877")),m=Object(f["a"])(u,n,o,!1,null,"57813f43",null);e["default"]=m.exports},d467:function(t,e,r){"use strict";r("5835")}}]);