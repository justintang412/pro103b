(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b805406"],{2560:function(e,t,r){"use strict";r("76e1")},"76e1":function(e,t,r){},"9d79":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ui-modal",e._g(e._b({ref:"Modal",scopedSlots:e._u([{key:"footer",fn:function(){return[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),r("el-button",{on:{click:e.onCancel}},[e._v("取消")]),r("el-button",{on:{click:function(t){return e.onReset()}}},[e._v("清空")])]},proxy:!0}])},"ui-modal",e.modalProps,!1),e.$listeners),[r("el-form",{ref:"Form",attrs:{"label-width":"12em",model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"全文名称"}},[e._v(e._s(e.row.itemFullName))]),r("ui-text-field",{attrs:{label:"馆编电子文档号",prop:"globalEItemNo",placeholder:"馆编电子文档号"},model:{value:e.form.globalEItemNo,callback:function(t){e.$set(e.form,"globalEItemNo",t)},expression:"form.globalEItemNo"}}),r("ui-text-field",{attrs:{label:"部门编电子文档号",prop:"departmentEItemNo",placeholder:"部门编电子文档号"},model:{value:e.form.departmentEItemNo,callback:function(t){e.$set(e.form,"departmentEItemNo",t)},expression:"form.departmentEItemNo"}}),r("ui-text-field",{attrs:{label:"室编电子文档号",prop:"eItemNo",placeholder:"室编电子文档号"},model:{value:e.form.eItemNo,callback:function(t){e.$set(e.form,"eItemNo",t)},expression:"form.eItemNo"}}),r("el-form-item",{attrs:{label:"电子文件格式"}},[e._v(e._s(e.row.itemFormat))]),r("el-form-item",{attrs:{label:"电子文件大小"}},[e._v(e._s(e.row.itemSize))]),r("el-form-item",{attrs:{label:"收集日期"}},[e._v(e._s(e.row.receiveDate))]),r("el-form-item",{attrs:{label:"收集人"}},[e._v(e._s(e.row.receiver))]),r("el-form-item",{attrs:{label:"下载文件"}},[r("el-link",{attrs:{type:"primary",underline:!1},on:{click:e.onDownload}},[e._v(e._s(e.row.itemFullName+"."+e.row.itemFormat))])],1)],1)],1)},n=[],a=r("1da1"),i=r("5530"),l=(r("e9c4"),r("d81d"),r("96cf"),r("a02a")),s=r("ec26"),m={props:["row"],data:function(){var e=this,t=this.row;return{form:t?Object(i["a"])({},t):{globalEItemNo:"",departmentEItemNo:"",eItemNo:""},modalProps:{title:"档案接收",drawer:!0,width:"600px",isEdit:!!this.row,onSubmit:function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$refs.Form.validate();case 2:return o=e.form,o.itemId=t.itemId,console.dir(Object(i["a"])({},o)),r.abrupt("return",e.$post("/sys/item/receiveUpdate",o));case 6:case"end":return r.stop()}}),r)})));function o(){return r.apply(this,arguments)}return o}()},dateOptions:{disabledDate:function(e){return e<new Date}},rules:{globalEItemNo:Object(l["v"])("请输入馆编电子文档号"),departmentEItemNo:Object(l["v"])("请输入部门编电子文档号"),eItemNo:Object(l["v"])("请选择室编电子文档号")}}},methods:{onSubmit:function(){this.form.item_id||(this.form.itemId=Object(s["a"])()),this.$refs.Modal.submit()},onCancel:function(){this.$refs.Modal.show(!1)},onReset:function(e){var t=this;this.form=e?Object(i["a"])(Object(i["a"])({},JSON.parse(JSON.stringify(e))),{},{orderFiles:e.orderFiles?e.orderFiles.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{name:t.getFileName(e.fileName)})})):[]}):{}},onChange:function(e){var t=e.target,r=t.files[0];r?this.file=r:this.$message.error("请选择文件")},onSelectFile:function(){this.$refs.File.click()},onDownload:function(){var e=this;Object(l["i"])({fileName:this.row.itemFullName+"."+this.row.itemFormat,action:function(){return e.$post("/sys/item/download",{itemId:e.row.itemId},{responseType:"blob"})}})}}},u=m,c=(r("2560"),r("2877")),f=Object(c["a"])(u,o,n,!1,null,"f77fdcf0",null);t["default"]=f.exports},ec26:function(e,t,r){"use strict";var o,n=new Uint8Array(16);function a(){if(!o&&(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(n)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function l(e){return"string"===typeof e&&i.test(e)}for(var s=l,m=[],u=0;u<256;++u)m.push((u+256).toString(16).substr(1));function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(m[e[t+0]]+m[e[t+1]]+m[e[t+2]]+m[e[t+3]]+"-"+m[e[t+4]]+m[e[t+5]]+"-"+m[e[t+6]]+m[e[t+7]]+"-"+m[e[t+8]]+m[e[t+9]]+"-"+m[e[t+10]]+m[e[t+11]]+m[e[t+12]]+m[e[t+13]]+m[e[t+14]]+m[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r}var f=c;function d(e,t,r){e=e||{};var o=e.random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var n=0;n<16;++n)t[r+n]=o[n];return t}return f(o)}t["a"]=d}}]);