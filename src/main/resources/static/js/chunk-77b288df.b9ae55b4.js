(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77b288df"],{"0dd6":function(e,t,o){},"15f1":function(e,t,o){"use strict";o("0dd6")},b2a2:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ui-modal",e._g(e._b({},"ui-modal",e.modalProps,!1),e.$listeners),[o("el-form",{ref:"Form",attrs:{"label-width":"8em",model:e.form,rules:e.rules}},[o("div",{staticClass:"flexbox col-2"},[o("ui-text-field",{attrs:{label:"坐席工号",prop:"workNo",disabled:!!e.row},model:{value:e.form.workNo,callback:function(t){e.$set(e.form,"workNo",t)},expression:"form.workNo"}}),o("ui-select",{attrs:{label:"签入方式",prop:"moveInType"},model:{value:e.form.moveInType,callback:function(t){e.$set(e.form,"moveInType",t)},expression:"form.moveInType"}},[o("el-option",{attrs:{label:"坐席页面登录迁入",value:0}}),o("el-option",{attrs:{label:"后台自动迁入",value:1}})],1),o("ui-select",{attrs:{label:"用户角色",prop:"workPosition"},model:{value:e.form.workPosition,callback:function(t){e.$set(e.form,"workPosition",t)},expression:"form.workPosition"}},[o("el-option",{attrs:{label:"坐席",value:0}}),o("el-option",{attrs:{label:"组长",value:1}}),o("el-option",{attrs:{label:"管理员",value:3}})],1),o("ui-text-field",{attrs:{label:"分机号",prop:"extensionNumber",placeholder:"请输入分机号不输入默认工号"},model:{value:e.form.extensionNumber,callback:function(t){e.$set(e.form,"extensionNumber",t)},expression:"form.extensionNumber"}}),o("el-form-item",{attrs:{label:"默认队列",prop:"queueId"}},[o("el-select",{attrs:{filterable:""},model:{value:e.form.queueId,callback:function(t){e.$set(e.form,"queueId",t)},expression:"form.queueId"}},e._l(e.queueList,(function(e){return o("el-option",{key:e.queueId,attrs:{value:e.queueId,label:e.queueName}})})),1),o("el-link",{staticClass:"btn-add-queue",attrs:{title:"新增队列",underline:!1,icon:"el-icon-circle-plus-outline"},on:{click:e.onAddQueue}})],1),o("ui-select",{attrs:{label:"坐席技能等级",prop:"workLevel"},model:{value:e.form.workLevel,callback:function(t){e.$set(e.form,"workLevel",t)},expression:"form.workLevel"}},[o("el-option",{attrs:{value:0,label:"低"}}),o("el-option",{attrs:{value:1,label:"中"}}),o("el-option",{attrs:{value:2,label:"高"}})],1),o("ui-text-field",{attrs:{label:"手机/市话",prop:"workTel"},model:{value:e.form.workTel,callback:function(t){e.$set(e.form,"workTel",t)},expression:"form.workTel"}}),o("ui-text-field",{attrs:{label:"归属ACD",prop:"flowNo"},model:{value:e.form.flowNo,callback:function(t){e.$set(e.form,"flowNo",t)},expression:"form.flowNo"}}),o("ui-text-field",{attrs:{label:"坐席姓名",prop:"workName"},model:{value:e.form.workName,callback:function(t){e.$set(e.form,"workName",t)},expression:"form.workName"}}),o("ui-text-field",{attrs:{label:"登录密码",prop:"workPassword"},model:{value:e.form.workPassword,callback:function(t){e.$set(e.form,"workPassword",t)},expression:"form.workPassword"}}),o("ui-select",{attrs:{label:"状态",prop:"workState"},model:{value:e.form.workState,callback:function(t){e.$set(e.form,"workState",t)},expression:"form.workState"}},[o("el-option",{attrs:{value:0,label:"正常"}}),o("el-option",{attrs:{value:1,label:"暂停"}})],1),o("ui-text-field",{attrs:{label:"事后处理时长",prop:"wrapUpTime"},model:{value:e.form.wrapUpTime,callback:function(t){e.$set(e.form,"wrapUpTime",t)},expression:"form.wrapUpTime"}},[o("span",{attrs:{slot:"append"},slot:"append"},[e._v("秒")])]),o("ui-text-field",{attrs:{label:"DID直拨号",prop:"didNo"},model:{value:e.form.didNo,callback:function(t){e.$set(e.form,"didNo",t)},expression:"form.didNo"}}),o("ui-text-field",{attrs:{label:"坐席最大弃呼数",prop:"maxNoAnswer"},model:{value:e.form.maxNoAnswer,callback:function(t){e.$set(e.form,"maxNoAnswer",t)},expression:"form.maxNoAnswer"}})],1)])],1)},a=[],l=o("1da1"),n=o("5530"),s=(o("4de4"),o("d3b7"),o("3ca3"),o("ddb0"),o("96cf"),o("a02a")),u={props:["row","entId"],data:function(){var e=this,t=this.row,o=!!t;return{isEdit:o,rules:{workNo:[Object(s["y"])("坐席工号不能为空"),{trigger:"blur",message:"坐席工号只能为数字",pattern:/^\d+$/}],workName:Object(s["y"])("坐席姓名不能为空"),workPassword:Object(s["y"])("登录密码不能为空"),workPosition:Object(s["z"])("坐席角色不能为空"),moveInType:Object(s["z"])("签入方式不能为空"),workState:Object(s["z"])("状态不能为空"),workLevel:Object(s["z"])("坐席技能等级不能为空"),queueId:Object(s["z"])("请选择默认队列")},form:t?Object(n["a"])({},t):{},modalProps:{isEdit:o,width:"800px",onSubmit:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.Form.validate();case 2:return t.next=4,e.$http.post("/cti/work/saveOrUpdate",Object(n["a"])(Object(n["a"])({},e.form),{},{entId:e.entId}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));function o(){return t.apply(this,arguments)}return o}()},queueList:[]}},mounted:function(){this.getQueueList()},methods:{getQueueList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http("/queue/getAllQueueNoPageAllState?entId=".concat(e.entId));case 2:e.queueList=t.sent.data.filter((function(e){return e.queueState}));case 3:case"end":return t.stop()}}),t)})))()},onAddQueue:function(){var e=this;this.$openModal((function(){return o.e("chunk-32063e30").then(o.bind(null,"45f7"))}),{entId:this.entId},{success:function(t,o){var r=o.data.params;r.queueState&&(e.queueList.unshift(r),e.form=Object(n["a"])(Object(n["a"])({},e.form),{},{queueId:r.queueId})),e.getQueueList()}})}}},i=u,c=(o("15f1"),o("2877")),f=Object(c["a"])(i,r,a,!1,null,"6a3a4564",null);t["default"]=f.exports}}]);