(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4662"],{"3b52":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-modal",t._g(t._b({},"ui-modal",t.modalProps,!1),t.$listeners),[n("ui-table-view",t._g(t._b({staticStyle:{border:"none",padding:"0"},scopedSlots:t._u([{key:"actions",fn:function(){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.onAdd}},[t._v("添加")])]},proxy:!0}])},"ui-table-view",Object.assign({},t.viewProps,{hidePager:!0}),!1),t.viewListeners))],1)},r=[],i=n("2909"),o=n("5530"),c=n("1da1"),s=(n("a434"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("96cf"),n("a02a")),u={name:"AuthorityTenantRobotScene",mixins:[window.mixTableView],props:["row"],data:function(){var t=this;return{columns:[{label:"场景ID",prop:"entranceId"},{label:"场景名称",prop:"entranceName"},{label:"场景状态",render:function(e,n){var a=n.row,r=n.$index;return e("div",[e("el-switch",{props:{value:a.state,activeValue:0,inactiveValue:1},on:{change:t.onStateChange.bind(t,r)}}),e("span",{style:"margin-left:5px;"},0===a.state?"启用":"停用")])}},{label:"操作",width:100,fixed:"right",render:function(e,n){var a=n.row,r=n.$index;return t.$hBtns({label:"删除",action:t.onDelete.bind(t,r)})(e,{row:a})}}],modalProps:{width:"600px",title:"机器人场景",drawer:!0,onSubmit:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.tableData.data,n.length<1&&Object(s["C"])("请至少添加一个机器人场景"),a={entid:t.row.id,entranceArray:n},e.next=5,t.$http.post("/ocm/entiEntrance/save",a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}}},mounted:function(){this.getData()},methods:{fetchMethod:function(){return this.$http("/ocm/entiEntrance/list/no/page?entid=".concat(this.row.id))},onStateChange:function(t){var e=this.tableData.data,n=e[t];e.splice(t,1,Object(o["a"])(Object(o["a"])({},n),{},{state:+!n.state}))},onDelete:function(t){this.tableData.data.splice(t,1)},onAdd:function(){var t=this,e=this.tableData.data.map((function(t){return t.entranceId}));this.$openModal((function(){return n.e("chunk-2d212b7c").then(n.bind(null,"aa39"))}),{ids:e},{select:function(e){var n;(n=t.tableData.data).push.apply(n,Object(i["a"])(e.map((function(e){return{state:0,entid:t.row.id,entranceId:e.entranceId,entranceName:e.entranceName}}))))}})}}},d=u,l=n("2877"),p=Object(l["a"])(d,a,r,!1,null,null,null);e["default"]=p.exports}}]);