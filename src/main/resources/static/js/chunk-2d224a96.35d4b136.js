(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224a96"],{e0a6:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[r("ui-select",{attrs:{label:"收集人",options:e.users,clearable:""},model:{value:e.searchForm.receiver,callback:function(t){e.$set(e.searchForm,"receiver",t)},expression:"searchForm.receiver"}}),r("ui-text-field",{attrs:{placeholder:"电子全文名称"},model:{value:e.searchForm.itemFullName,callback:function(t){e.$set(e.searchForm,"itemFullName",t)},expression:"searchForm.itemFullName"}})]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners))},a=[],i=r("1da1"),o=r("3835"),c=r("5530"),s=(r("96cf"),r("d81d"),r("99af"),r("d3b7"),r("3ca3"),r("ddb0"),{name:"file",mixins:[window.mixTableView],data:function(){var e=this;return{columns:[{label:"文件ID",prop:"itemId"},{label:"室编电子文档号",prop:"eItemNo"},{label:"部门编电子文档号",prop:"departmentEItemNo"},{label:"馆编电子文档号",prop:"globalEItemNo"},{label:"电子全文名称",prop:"itemFullName"},{label:"电子文件大小",prop:"itemSize"},{label:"电子文件格式",prop:"itemFormat"},{label:"收集人",prop:"receiver"},{label:"收集日期",prop:"receiveDate"},{label:"操作",width:150,fixed:"right",render:function(t,r){var n=r.row;return e.$hBtns([{label:"详情",action:e.onView}])(t,{row:n})}}],timerange:[],users:[]}},mounted:function(){this.setInitForm(),this.getInitData()},methods:{getInitData:function(){this.getData()},setInitForm:function(){var e=this;this.timerange=[],this.tableForm={key:"name",type:5,flag:"1"},this.$http("/user/departmentUsers",{params:{}}).then((function(t){var r=t.data;e.users=r.map((function(e){return{value:e.username,label:e.fullname}}))}))},fetchMethod:function(e){return this.$http("/sys/item/departmentList",{params:Object(c["a"])({},this.searchForm)}).then((function(e){var t=e.data;return{total:t.length,data:t}}))},onTimeChange:function(e){var t=e||[],r=Object(o["a"])(t,2),n=r[0],a=r[1];this.searchForm=Object(c["a"])(Object(c["a"])({},this.searchForm),{},{receiveDate:"".concat(n,",").concat(a)}),this.onSearch()},onDeleteRecords:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("确定取消选中的文件？","提示");case 2:return t.next=4,e.$post("/sys/item/receiveListCancel",{itemId:e.selectedRow.map((function(e){return e.itemId}))+""});case 4:e.getData();case 5:case"end":return t.stop()}}),t)})))()},onView:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$openModal((function(){return r.e("chunk-e898c48c").then(r.bind(null,"1e37"))}),{row:e},{success:t.onEditSuccess});case 1:case"end":return n.stop()}}),n)})))()},onEdit:function(e){this.$openModal((function(){return r.e("chunk-5e7e5336").then(r.bind(null,"cf6e"))}),{row:e},{success:this.onEditSuccess})}}}),l=s,u=r("2877"),m=Object(u["a"])(l,n,a,!1,null,null,null);t["default"]=m.exports}}]);