(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b51b4cd4"],{"330b":function(e,t,n){},"45be":function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"p",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"z",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return g})),n.d(t,"m",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"A",(function(){return v})),n.d(t,"y",(function(){return m})),n.d(t,"l",(function(){return h})),n.d(t,"w",(function(){return b})),n.d(t,"x",(function(){return w})),n.d(t,"v",(function(){return S})),n.d(t,"g",(function(){return y})),n.d(t,"C",(function(){return D})),n.d(t,"q",(function(){return x})),n.d(t,"r",(function(){return L})),n.d(t,"d",(function(){return k})),n.d(t,"s",(function(){return N})),n.d(t,"t",(function(){return _})),n.d(t,"u",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"B",(function(){return R})),n.d(t,"k",(function(){return C})),n.d(t,"f",(function(){return G}));var i=n("fa65"),o=function(e){return Object(i["e"])("/cti/rule/dialog",{params:e})},r=function(e){return Object(i["e"])("/cti/rule/dialog",{params:e})},a=function(e){return i["e"].post("/cti/rule/dialog",e)},u=function(e,t){return i["e"].post("/cti/rule/dialog/".concat(e),t)},c=function(e){return Object(i["e"])("/cti/rule/dialog/".concat(e))},l=function(e){return Object(i["e"])("/cti/rule/dialog/group",{params:e})},s=function(e){return i["e"].post("/cti/rule/dialog/group",e)},d=function(e){return Object(i["e"])("/cti/rule/mute",{params:e})},g=function(e){return Object(i["e"])("/cti/rule/search/mute",{params:e})},p=function(e){return Object(i["e"])("/cti/rule/mute/".concat(e))},f=function(e){return i["e"].post("/cti/rule/mute",e)},v=function(e,t){return i["e"].post("/cti/rule/mute/".concat(e),t)},m=function(e){return i["e"].post("/cti/rule/silence/group",e)},h=function(e){return Object(i["e"])("/cti/rule/silence/group",{params:e})},b=function(e){return Object(i["e"])("/cti/rule/speed",{params:e})},w=function(e){return Object(i["e"])("/cti/rule/search/speed",{params:e})},S=function(e){return Object(i["e"])("/cti/rule/speed/".concat(e))},y=function(e){return i["e"].post("/cti/rule/speed",e)},D=function(e,t){return i["e"].post("/cti/rule/speed/".concat(e),t)},x=function(e){return Object(i["e"])("/cti/rule/QuerySeRules",{params:e})},L=function(e){return Object(i["e"])("/cti/rule/FindSERulesByNameAndDec",{params:e})},k=function(e){return i["e"].post("/cti/rule/AddSeRules",e)},N=function(e){return Object(i["e"])("/cti/rule/sensitive/querySeClassify",{params:e})},_=function(e){return Object(i["e"])("/cti/rule/sensitive",{params:e})},j=function(e){return Object(i["e"])("/cti/rule/sensitive/classify",{params:e})},O=function(e){return i["e"].post("/cti/rule/sensitive",e)},R=function(e){return Object(i["e"])("/cti/rule/sensitive/updateSensitive",{params:e})},C=function(e){return Object(i["e"])("/cti/rule/sensitiveWord/group",{params:e})},G=function(e){return i["e"].post("/cti/rule/sensitiveWord/group",e)}},9168:function(e,t,n){"use strict";n("330b")},9824:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"DialogRules"},[n("h5",[e._v(e._s(e.rulesName))]),n("br"),n("p",{staticStyle:{"text-indent":"2em"}},[e._v(e._s(e.describes))]),n("br"),n("br"),n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("span",[e._v("句子群组出现在")]),n("el-select",{staticStyle:{margin:"0 10px"},attrs:{placeholder:"请选择"},model:{value:e.viewDialog.location,callback:function(t){e.$set(e.viewDialog,"location",t)},expression:"viewDialog.location"}},e._l(e.options1,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1),"不限制"!=e.viewDialog.location?n("el-input",{staticStyle:{width:"80px","margin-right":"10px"},model:{value:e.viewDialog.dialogNum,callback:function(t){e.$set(e.viewDialog,"dialogNum",t)},expression:"viewDialog.dialogNum"}}):e._e(),"不限制"!=e.viewDialog.location?n("span",[e._v("句话内")]):e._e()],1),e._l(e.viewDialog.dialogLogicJson,(function(t,i){return n("div",{key:i,staticClass:"sentenceBox"},[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("el-select",{staticStyle:{"margin-right":"10px",width:"90px"},attrs:{placeholder:"请选择"},model:{value:t.dialogRole,callback:function(n){e.$set(t,"dialogRole",n)},expression:"item.dialogRole"}},e._l(e.options2,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v("说 "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"text",icon:"el-icon-delete"}})],1),n("ul",e._l(t.dialogGroup,(function(t,o){return n("li",{key:o,staticClass:"sentence"},[n("el-input",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini"},model:{value:e.viewDialog.dialogLogicJson[i].dialogGroup[o],callback:function(t){e.$set(e.viewDialog.dialogLogicJson[i].dialogGroup,o,t)},expression:"viewDialog.dialogLogicJson[index].dialogGroup[index2]"}},[e._v(e._s(t))]),n("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text"},on:{click:function(t){return e.handleDelete2(i,o)}}},[e._v("删除")]),n("el-button",{staticStyle:{color:"#00cdb1"},attrs:{type:"text"},on:{click:function(t){return e.handleAdd2(i,o)}}},[e._v("添加或句")])],1)})),0)])})),n("div",{staticStyle:{"margin-top":"10px"}},[e._l(e.addNewSentenceList,(function(t,i){return n("div",{key:i,staticClass:"sentenceBox"},[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("el-select",{staticStyle:{"margin-right":"10px",width:"90px"},attrs:{placeholder:"请选择"},model:{value:t.dialogRole,callback:function(n){e.$set(t,"dialogRole",n)},expression:"item2.dialogRole"}},e._l(e.options2,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v("说 "),n("el-button",{staticStyle:{float:"right"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleSentList(i)}}})],1),e._l(t.dialogGroup,(function(t,o){return n("div",{key:o,staticClass:"sentence"},[n("el-input",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:e.addNewSentenceList[i].dialogGroup[o],callback:function(t){e.$set(e.addNewSentenceList[i].dialogGroup,o,t)},expression:"addNewSentenceList[index2].dialogGroup[index3]"}}),n("el-button",{staticStyle:{color:"#F56C6C"},attrs:{type:"text"},on:{click:function(t){return e.handleDelete(i,o)}}},[e._v("删除")]),n("el-button",{staticStyle:{color:"#00cdb1"},attrs:{type:"text"},on:{click:function(t){return e.handleAdd(i,o)}}},[e._v("添加或句")])],1)}))],2)})),n("el-button",{attrs:{type:"text"},on:{click:e.handleAddSentence}},[e._v("添加句子群组")])],2),n("div",{staticStyle:{"margin-top":"20px"}},[n("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.addDialogLogic}},[e._v("保存")]),n("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],2)},o=[],r=n("1da1"),a=(n("96cf"),n("a434"),n("ac1f"),n("1276"),n("45be")),u={name:"ViewDialog",data:function(){return{viewDialog:{},viewDialogList:[],addNewSentenceList:[],sentenceInput:"",newSentenceId:0,newSentence:{},ruleId:0,viewId:null,input1:null,isAddSentence:!0,options2:[{value:"AGENT",label:"坐席"},{value:"USER",label:"客户"}],options1:[{value:1,label:"通话开头"},{value:2,label:"通话结尾"},{value:0,label:"不限制"}]}},beforeRouteEnter:function(e,t,n){n((function(e){e.getDataList()}))},computed:{rulesName:function(){return this.$route.params.rulesName},describes:function(){return this.$route.params.describes}},methods:{deleSentList:function(e){var t=this;this.$confirm("确认删除该句子群组？").then((function(){t.addNewSentenceList.splice(e,1)})).catch((function(){console.log("取消删除该句子群组")}))},getDataList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=window.location.href.split("/"),i=n[n.length-1],e.ruleId=i,o={ruleId:i},t.next=6,Object(a["j"])(o);case 6:r=t.sent,r.ok?r.data.count>0?(e.viewDialog=r.data.rows[0],e.viewId=r.data.rows[0].id):e.viewDialog={}:e.$message.error(r.info);case 8:case"end":return t.stop()}}),t)})))()},goBack:function(){this.$router.go(-1)},handleAddSentence:function(){var e=this.addNewSentenceList.length;e<10?this.addNewSentenceList.push({id:this.newSentenceId++,dialogRole:"",dialogGroup:[""]}):this.$message.error("已超过添加上线10条")},handleDelete2:function(e,t){this.viewDialog.dialogLogicJson[e].dialogGroup.splice(t,1),0===+this.viewDialog.dialogLogicJson[e].dialogGroup.length&&this.viewDialog.dialogLogicJson[e].dialogGroup.push("")},handleDelete:function(e,t){this.addNewSentenceList[e].dialogGroup.splice(t,1),0===+this.addNewSentenceList[e].dialogGroup.length&&this.addNewSentenceList[e].dialogGroup.push("")},handleAdd2:function(e,t){this.viewDialog.dialogLogicJson[e].dialogGroup.push("")},handleAdd:function(e,t){this.addNewSentenceList[e].dialogGroup.push("")},addDialogLogic:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,o,r,u,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.viewDialog.ruleId=e.ruleId,n=e,i={},e.viewDialog.hasOwnProperty("dialogLogicJson")){for(o=[],r=0;r<e.viewDialog.dialogLogicJson.length;r++)o.push(n.viewDialog.dialogLogicJson[r]);if(e.addNewSentenceList.length)for(u=0;u<e.addNewSentenceList.length;u++)o.push(n.addNewSentenceList[u]);i={dialogLogicJson:o,dialogNum:e.viewDialog.dialogNum,ruleId:e.viewDialog.ruleId,location:e.viewDialog.location,id:n.viewId}}else i={dialogLogicJson:e.addNewSentenceList,dialogNum:e.viewDialog.dialogNum,ruleId:e.viewDialog.ruleId,location:e.viewDialog.location,id:n.viewId};return t.next=6,Object(a["b"])(i);case 6:c=t.sent,c.ok?e.$message.success("添加成功"):e.$message.error("添加失败");case 8:case"end":return t.stop()}}),t)})))()}},deactivated:function(){this.$destroy("ViewDialog")}},c=u,l=(n("9168"),n("2877")),s=Object(l["a"])(c,i,o,!1,null,"7b8595c4",null);t["default"]=s.exports},fa65:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return b}));n("d3b7"),n("b0c0");var i=n("4328"),o=n.n(i),r=n("bc3a"),a=n.n(r),u=n("5c96"),c=n("e5ac"),l=n("a02a"),s=n("60e2"),d=function(e){var t=e.statusCode,n=e.message,i=e.data,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o&&u["Message"].error(n||"发生未知异常");var r=new Error(n);return r.data=i,r.statusCode=t,Promise.reject(r)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s["a"],n=a.a.create();return n.defaults.baseURL=t,n.defaults.withCredentials=!0,e&&(n.defaults.transformRequest=[function(e){return o.a.stringify(e)}]),n.interceptors.request.use((function(e){var t=sessionStorage.getItem("token");return t&&!1!==e.isAuth&&(e.headers.Authorization=t),e})),n.interceptors.response.use((function(e){var t=e.data;return t instanceof Blob&&(t.name=Object(l["n"])(e.headers["content-disposition"])),"number"===typeof t.code?t.code?d({message:t.msg,data:t,statusCode:e.status}):t:!1!==t.ok?(Object(c["b"])(e.config.url)&&sessionStorage.setItem("token",e.headers.authorization||e.headers.Authorization),t):d({message:t.info,data:t,statusCode:e.status},"-20"!==t.code)}),(function(e){var t=e.response,n=t||{},i=n.data,o=n.status,r=t?i.info||e.message:"请求失败，请稍候重试";return 401===o?(sessionStorage.removeItem("token"),window.opener?window.close():(l["t"].close(),c["a"].dispatch("GO_LOGIN")),d({message:r,data:i,statusCode:o},!1)):d({message:r,data:i,statusCode:o})})),n},p=g(!0,s["b"]),f=g(),v=g(!0),m=function(){return v.post.apply(v,arguments)},h=g(!1,s["b"]),b=function(){return p.post.apply(p,arguments)}}}]);