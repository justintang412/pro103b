(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2382d4"],{fdee:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-modal",e._g(e._b({},"ui-modal",e.modalProps,!1),e.$listeners),[n("el-form",{ref:"Form",attrs:{"label-width":"7em",model:e.form,rules:e.rules}},[n("ui-text-field",{attrs:{label:"模板签名",prop:"signContent",placeholder:"请输入模板签名多个以逗号隔开"},model:{value:e.form.signContent,callback:function(t){e.$set(e.form,"signContent",t)},expression:"form.signContent"}}),n("el-form-item",{attrs:{label:"签名类型",prop:"signType"}},[n("el-radio-group",{model:{value:e.form.signType,callback:function(t){e.$set(e.form,"signType",t)},expression:"form.signType"}},[n("el-radio",{attrs:{label:"3"}},[e._v("全选")]),n("el-radio",{attrs:{label:"1"}},[e._v("通知类签名")]),n("el-radio",{attrs:{label:"2"}},[e._v("营销类签名")])],1)],1),n("el-form-item",{attrs:{label:"营业执照",required:""}},[n("input",{directives:[{name:"show",rawName:"v-show",value:0,expression:"0"}],ref:"File",attrs:{type:"file",accept:"image/*"},on:{change:e.onChange}}),n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.onSelectFile}},[e._v("选择图片")]),n("div",{staticStyle:{"padding-left":"5px",color:"#999"}},[e._v(e._s(e.file&&e.file.name))]),n("div",{staticClass:"tip"},[e._v("* 仅支持JPG、GIF、PNG、JPEG格式小于10M图片文件")])],1)],1)],1)},r=[],i=n("1da1"),s=n("5530"),l=(n("2ca0"),n("96cf"),n("a02a")),o={props:["row","entId"],data:function(){var e=this,t=this.row;return{form:t?Object(s["a"])({},this.row):{},file:null,rules:{signType:Object(l["z"])("请选择签名类型"),signContent:Object(l["y"])("请输入模板签名")},modalProps:{isEdit:!!t,width:"440px",onSubmit:function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$refs.Form.validate();case 2:return!e.file&&Object(l["C"])("请选择文件"),a=new FormData,a.append("file",e.file),n.next=7,e.$http.post("/message/sign/imgUpload",a);case 7:return r=n.sent,i=r.data,o=Object(s["a"])(Object(s["a"])({},e.form),{},{picPath:i.picPath,picUrl:i.picUrl,entId:e.entId}),n.next=12,e.$http.post("/message/sign/".concat(t?"updateSignMessage":"saveSignMessage"),o);case 12:return n.abrupt("return",n.sent);case 13:case"end":return n.stop()}}),n)})));function a(){return n.apply(this,arguments)}return a}()}}},methods:{onChange:function(e){var t=e.target,n=t.files[0];n&&(n.type.startsWith("image/")?n.size<10485760?this.file=n:this.$message.warning("请选择小于10M的图片文件"):this.$message.warning("请选择JPG、GIF、PNG、JPEG格式图片文件")),t.value=""},onSelectFile:function(){this.$refs.File.click()}}},c=o,p=n("2877"),u=Object(p["a"])(c,a,r,!1,null,null,null);t["default"]=u.exports}}]);