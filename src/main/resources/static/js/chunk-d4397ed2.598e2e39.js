(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4397ed2"],{"1c37":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ui-modal",e._g(e._b({},"ui-modal",e.modalProps,!1),e.$listeners),[r("el-form",{ref:"Form",attrs:{"label-width":"9em",model:e.form,rules:e.rules}},[r("ui-text-field",{attrs:{label:"名称",prop:"snsName"},model:{value:e.form.snsName,callback:function(t){e.$set(e.form,"snsName",t)},expression:"form.snsName"}}),r("ui-text-field",{attrs:{label:"微信号",prop:"wxAccount"},model:{value:e.form.wxAccount,callback:function(t){e.$set(e.form,"wxAccount",t)},expression:"form.wxAccount"}}),r("ui-text-field",{attrs:{label:"appid",prop:"wxAppkey"},model:{value:e.form.wxAppkey,callback:function(t){e.$set(e.form,"wxAppkey",t)},expression:"form.wxAppkey"}}),r("ui-text-field",{attrs:{label:"密钥",prop:"wxSecret"},model:{value:e.form.wxSecret,callback:function(t){e.$set(e.form,"wxSecret",t)},expression:"form.wxSecret"}}),r("ui-text-field",{attrs:{label:"协议域名",prop:"baseUrl"},model:{value:e.form.baseUrl,callback:function(t){e.$set(e.form,"baseUrl",t)},expression:"form.baseUrl"}}),r("ui-text-field",{attrs:{label:"token",prop:"wxApptoken"},model:{value:e.form.wxApptoken,callback:function(t){e.$set(e.form,"wxApptoken",t)},expression:"form.wxApptoken"}}),r("ui-text-field",{attrs:{label:"加密密钥",prop:"wxAeskey"},model:{value:e.form.wxAeskey,callback:function(t){e.$set(e.form,"wxAeskey",t)},expression:"form.wxAeskey"}}),r("el-form-item",{attrs:{label:"是否使用机器人"}},[r("el-radio-group",{model:{value:e.form.isAi,callback:function(t){e.$set(e.form,"isAi",t)},expression:"form.isAi"}},[r("el-radio",{attrs:{label:0}},[e._v("否")]),r("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1),e.form.isAi?r("ui-select",{attrs:{label:"机器人",prop:"machineid",options:e.aiList,props:{value:"machineid",label:"name"}},model:{value:e.form.machineid,callback:function(t){e.$set(e.form,"machineid",t)},expression:"form.machineid"}}):e._e(),r("ui-text-field",{attrs:{label:"备注说明",type:"textarea",maxlength:"200"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)},i=[],a=r("15fd"),o=r("1da1"),s=r("5530"),c=(r("96cf"),r("498a"),r("7db0"),r("d3b7"),r("b0c0"),r("a02a")),l=["machineid"],u={props:["row"],data:function(){var e=this,t=this.row,r=function(e){return function(t,r,n){return r&&r.trim()?n():n(new Error(e))}},n=function(e){return{trigger:"blur",required:!0,validator:r(e)}};return{form:t?Object(s["a"])({isAi:0},t):{isAi:0},rules:{snsName:n("请输入名称"),wxAccount:n("请输入微信号"),wxAppkey:n("请输入appid"),wxSecret:n("请输入密钥"),baseUrl:{trigger:"blur",required:!0,type:"url",message:"请输入有效的网址"},wxApptoken:n("请输入token"),wxAeskey:n("请输入加密密钥"),machineid:Object(c["z"])("请选择机器人")},modalProps:{isEdit:!!t,onSubmit:function(){var r=Object(o["a"])(regeneratorRuntime.mark((function r(){var n,i,o,c,u,m;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$refs.Form.validate();case 2:return n=e.form,i=n.machineid,o=Object(a["a"])(n,l),c=e.aiList.find((function(e){return e.machineid===i})),u=o.isAi&&c?{machineid:i,aiName:c.name}:{},m=Object(s["a"])(Object(s["a"])(Object(s["a"])({},o),u),{},{orgi:e.user.orgi,creater:e.user.agentId,snsType:"weixin"}),r.next=8,e.row?e.$imHttp.post("/sns/".concat(t.id),m):e.$imHttp.post("/sns/",m);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r)})));function n(){return r.apply(this,arguments)}return n}()},aiList:[]}},computed:{user:function(){return this.$store.getters.imUser}},mounted:function(){this.getAiList()},methods:{getAiList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$imHttp("/ai/list?orgi=".concat(e.user.orgi));case 2:e.aiList=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()}}},m=u,p=r("2877"),f=Object(p["a"])(m,n,i,!1,null,null,null);t["default"]=f.exports},"498a":function(e,t,r){"use strict";var n=r("23e7"),i=r("58a8").trim,a=r("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},c8d2:function(e,t,r){var n=r("5e77").PROPER,i=r("d039"),a=r("5899"),o="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||o[e]()!==o||n&&a[e].name!==e}))}}}]);