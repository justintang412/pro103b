(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d93741a"],{7335:function(e,t,a){"use strict";a("f7e8")},b227:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"Form",attrs:{model:e.form,rules:e.rules}},[a("ui-text-field",{attrs:{prop:"username",placeholder:"用户名","prefix-icon":"el-icon-user"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),a("ui-text-field",{attrs:{prop:"password",placeholder:"密码","prefix-icon":"el-icon-lock",type:"password","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),a("el-form-item",{attrs:{prop:"captcha"}},[a("div",{staticClass:"flexbox"},[a("el-input",{attrs:{placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}},model:{value:e.form.captcha,callback:function(t){e.$set(e.form,"captcha",t)},expression:"form.captcha"}}),a("img",{ref:"Captcha",staticClass:"captcha",staticStyle:{width:"120px",height:"32px"},on:{click:e.refreshCaptcha}})],1)]),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("登 录")])],1),e.hasRegister?a("footer",{staticClass:"footer"},[a("span",[e._v("还没有帐号？"),a("router-link",{attrs:{replace:"",to:"register"}},[e._v("立即注册")])],1),a("router-link",{staticClass:"right",attrs:{replace:"",to:"foundpwd"}},[e._v("忘记密码")])],1):e._e()],1)},s=[],n=a("1da1"),o=(a("96cf"),a("60e2")),c=a("a02a"),i=a("bc3a"),l=a.n(i),p={data:function(){return{hasRegister:!0,form:{},loading:!1,rules:{username:Object(c["v"])("请输入用户名"),password:{required:!0,message:"请输入密码",trigger:"blur"},captcha:Object(c["v"])("请输入验证码")}}},mounted:function(){this.refreshCaptcha()},methods:{submit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.Form.validate();case 2:return e.loading=!0,t.prev=3,t.next=6,e.$store.dispatch("LOGIN",e.form);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](3),e.refreshCaptcha();case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[3,8]])})))()},refreshCaptcha:function(){var e=this,t=Date.now(),a=Object(o["c"])("/dashboard/captcha/image?t=".concat(t));console.log(a);var r=l.a.create();r("".concat(a),{params:{}}).then((function(a){e.$refs.Captcha.src="data:image/png;base64,".concat(a.data),e.form.t=t}))}}},u=p,f=(a("7335"),a("2877")),d=Object(f["a"])(u,r,s,!1,null,"3849e51e",null);t["default"]=d.exports},f7e8:function(e,t,a){}}]);