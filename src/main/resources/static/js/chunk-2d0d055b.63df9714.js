(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d055b"],{6814:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[e.isSuper?n("el-form-item",{attrs:{label:"所属企业"}},[n("ui-ent-select",{on:{change:e.onSearch},model:{value:e.searchForm.entId,callback:function(t){e.$set(e.searchForm,"entId",t)},expression:"searchForm.entId"}})],1):e._e(),n("ui-text-field",{attrs:{label:"文件名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.fileName,callback:function(t){e.$set(e.searchForm,"fileName",t)},expression:"searchForm.fileName"}})]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners),[n("el-button",{attrs:{slot:"actions",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.onEdit()}},slot:"actions"},[e._v("新增")])],1)},r=[],a=n("5530"),o=n("1da1"),c=(n("96cf"),n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("a02a")),s={name:"AudioManagement",mixins:[window.mixTableView],data:function(){var e=this;return{columns:[{label:"VCCID",prop:"id",minWidth:80},{label:"文件名称",render:function(e,t){var n=t.row;return e("span",Object(c["j"])(n.textfile,!0))}},{label:"创建时间",prop:"modifytime",minWidth:140},{label:"备注",prop:"explains",minWidth:140},{label:"录音",minWidth:140,render:function(t,n){var i=n.row;return t("ui-audio-player",{props:{src:function(){return e.getSrc(i)}}})}},{label:"操作",width:100,fixed:"right",render:this.$hBtns([{label:"编辑",action:this.onEdit},{label:"删除",action:this.onDelete}])}]}},computed:{isSuper:function(){return this.$store.getters.isAdmin}},mounted:function(){this.setInitForm(),this.getData(),Object(c["g"])(this,this.getData)},methods:{getSrc:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http("/pm/cti/voice/get/voice?entId=".concat(e.entid,"&textFile=").concat(e.textfile));case 2:return n.abrupt("return",n.sent.data);case 3:case"end":return n.stop()}}),n)})))()},setInitForm:function(){this.tableForm={entId:this.$store.state.userData.entid},this.searchForm=Object(a["a"])({},this.tableForm)},fetchMethod:function(e){return this.$post("/pm/cti/voice/search",e).then((function(e){var t=e.data;return t}))},onDelete:function(e){var t=this;this.delData({action:function(){return t.$post("/pm/cti/voice/del",{id:e.id})}})},onEdit:function(e){var t=this.searchForm.entId;return this.$openModal((function(){return n.e("chunk-2d0e8c9a").then(n.bind(null,"8b82"))}),{row:e,entId:t},{success:this.onEditSuccess})}}},u=s,l=n("2877"),d=Object(l["a"])(u,i,r,!1,null,null,null);t["default"]=d.exports}}]);