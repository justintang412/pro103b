(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2134cf"],{aba9:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"actions",fn:function(){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.onEdit()}}},[e._v("添加字段")]),n("el-button",{attrs:{type:"primary",icon:"el-icon-view"},on:{click:function(t){return e.onView()}}},[e._v("预览表单")])]},proxy:!0}])},"ui-table-view",Object.assign({},e.viewProps,{hidePager:!0}),!1),e.viewListeners))},r=[],o=n("1da1"),a=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("a02a")),c=n("e6f4"),d={mixins:[window.mixTableView],data:function(){var e=this;return{columns:[{label:"字段标题",prop:"fieldTitle"},{label:"字段类型",render:function(e,t){var n=t.row;return e("span",c["d"][n.fieldType])}},{label:"是否必填",minWidth:80,render:function(e,t){var n=t.row;return e("span",+n.isNecessary?"是":"否")}},{label:"字段描述",prop:"fieldDescription",minWidth:140},{label:"状态",render:function(t,n){var i=n.row;return t("div",[t("el-switch",{style:"margin-right:5px",props:{value:!!+i.fieldStatus},on:{change:e.onStateChange.bind(e,i)}}),t("span",+i.fieldStatus?"启用":"禁用")])}},{label:"操作",width:160,fixed:"right",render:function(t,n){var i=n.row,r=n.$index;return e.$hBtns([{label:"选项",props:{icon:"el-icon-plus",disabled:!Object(c["i"])(i.fieldType)},action:e.onOptionEdit},{props:{icon:"el-icon-edit"},attrs:{title:"编辑"},action:e.onEdit},{props:{icon:"el-icon-top",disabled:e.disabledUp(r)},attrs:{title:"上移"},action:e.onMoveUp},{props:{icon:"el-icon-bottom",disabled:e.disabledDown(r)},attrs:{title:"下移"},action:e.onMoveDown},{props:{icon:"el-icon-delete"},attrs:{title:"删除"},action:e.onDelete}])(t,{row:i})}}]}},computed:{id:function(){return this.$route.params.id}},mounted:function(){var e=this,t=function(){e._id&&e._id!==e.id?e.onReset():e.getData(),e._id=e.id};t(),Object(a["g"])(this,t)},methods:{fetchMethod:function(){return Object(c["f"])(this.id).then((function(e){return{data:e}}))},onOptionEdit:function(e){this.$openModal((function(){return n.e("chunk-621c8260").then(n.bind(null,"dc08"))}),{row:e})},onEdit:function(e){var t={row:e,templateUid:this.id};this.$openModal((function(){return n.e("chunk-2d0d01ac").then(n.bind(null,"670e"))}),t,{success:this.onEditSuccess})},update:function(e){return this.$post("/media/field/set",e)},move:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.prev=1,n.next=4,t.$post("/media/field/sorting",e);case 4:t.getData(),n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](1);case 9:t.loading=!1;case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},onMoveUp:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.move({fieldUid:e.fieldUid,orderType:0});case 2:case"end":return n.stop()}}),n)})))()},onMoveDown:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.move({fieldUid:e.fieldUid,orderType:1});case 2:case"end":return n.stop()}}),n)})))()},disabledUp:function(e){return 0===e},disabledDown:function(e){return e>=this.tableData.data.length-1},onDelete:function(e){var t=this;this.delData({action:function(){return t.$http("/media/field/del",{params:{id:e.id}})}})},onStateChange:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.prev=1,n.next=4,t.$post("/media/field/statusUpdate",{id:e.id,fieldStatus:+!+e.fieldStatus});case 4:t.getData(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),t.loading=!1;case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()},onView:function(){this.$openModal((function(){return n.e("chunk-2531775d").then(n.bind(null,"1dbdf"))}),{row:{templateUid:this.id}})}}},u=d,s=n("2877"),l=Object(s["a"])(u,i,r,!1,null,null,null);t["default"]=l.exports}}]);