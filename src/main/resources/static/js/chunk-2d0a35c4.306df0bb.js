(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a35c4"],{"029e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[n("ui-text-field",{attrs:{label:"名单表名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.batchName,callback:function(t){e.$set(e.searchForm,"batchName",t)},expression:"searchForm.batchName"}}),n("ui-text-field",{attrs:{label:"名单表ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.batchId,callback:function(t){e.$set(e.searchForm,"batchId",t)},expression:"searchForm.batchId"}}),n("ui-select",{attrs:{label:"批次类型",options:e.batchTypeList,clearable:""},on:{change:e.onTypeChange},model:{value:e.searchForm.batchType,callback:function(t){e.$set(e.searchForm,"batchType",t)},expression:"searchForm.batchType"}}),n("ui-select",{attrs:{label:"所属批次",options:e.eventList,props:{value:"eventId",label:"eventName"},clearable:"",filterable:""},on:{change:e.onSearch},model:{value:e.searchForm.eventId,callback:function(t){e.$set(e.searchForm,"eventId",t)},expression:"searchForm.eventId"}}),n("ui-select",{attrs:{label:"创建方式",options:e.createModes,clearable:""},on:{change:e.onSearch},model:{value:e.searchForm.batchSource,callback:function(t){e.$set(e.searchForm,"batchSource",t)},expression:"searchForm.batchSource"}})]},proxy:!0},{key:"actions",fn:function(){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.onEdit()}}},[e._v("添加名单表")]),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:!e.selectedRow.length},on:{click:function(t){return e.onDelete(e.selectedRow)}}},[e._v("删除名单表")])]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners))},c=[],r=n("5530"),o=n("1da1"),i=(n("96cf"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("a02a")),s=n("5cdf"),l={name:"OcmPreviewNameList",mixins:[window.mixTableView],data:function(){var e=this;return{eventList:[],createModes:s["h"],batchTypeList:[{value:1,label:"预览批次"},{value:2,label:"预测批次"}],columns:[{type:"selection"},{label:"名单表名称",prop:"batchName"},{label:"ID",prop:"batchId",minWidth:235},{label:"名单数量",prop:"batchListCount",minWidth:80},{label:"使用次数",prop:"useCount",minWidth:80},{label:"创建人",prop:"creatorName"},{label:"创建方式",minWidth:80,render:function(t,n){var a=n.row;return t("div",e.createModes[a.batchSource])}},{label:"创建时间",prop:"createTime",minWidth:140},{label:"操作",width:210,fixed:"right",render:this.$hBtns([{label:"详情",action:this.onView},{label:"编辑",action:this.onEdit},{label:"删除",action:this.onDelete},{label:"加入任务批次",action:this.onJoinTaskBatch}])}]}},mounted:function(){var e=this,t=function(){e.getData(),e.getBatchList(e.searchForm.batchType)};t(),Object(i["g"])(this,t)},methods:{fetchMethod:function(e){return this.$http("/ccas/call/batch/listNew",{params:e}).then((function(e){return e.data}))},onDelete:function(e){var t=this;this.delData({rows:e,action:function(e){return t.$http("/ccas/call/batch/del",{params:{batchIds:e.map((function(e){return e.batchId}))+""}})}})},onEdit:function(e){this.$openModal((function(){return n.e("chunk-6c6e568b").then(n.bind(null,"5582"))}),{row:e},{success:this.onEditSuccess})},onView:function(e){this.$router.push("".concat(this.$route.path,"/").concat(e.batchId))},onJoinTaskBatch:function(e){this.$openModal((function(){return n.e("chunk-2d221406").then(n.bind(null,"ca0b"))}),{row:e,eventList:this.eventList})},getBatchList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a={1:"/ccas/call/manual/event/list",2:"/ocm/event/listNoPage"}[e],!a){n.next=7;break}return n.next=4,t.$http(a);case 4:n.t0=n.sent.data,n.next=8;break;case 7:n.t0=[];case 8:t.eventList=n.t0;case 9:case"end":return n.stop()}}),n)})))()},onTypeChange:function(e){this.searchForm=Object(r["a"])(Object(r["a"])({},this.searchForm),{},{eventId:void 0}),this.onSearch(),this.getBatchList(e)}}},h=l,u=n("2877"),b=Object(u["a"])(h,a,c,!1,null,null,null);t["default"]=b.exports}}]);