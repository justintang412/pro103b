(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-029f444e"],{"6f38":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticClass:"card-list"},t._l(t.stats,(function(e){return n("data-stat-card",{key:e.value,attrs:{data:e,active:t.current===e.value,onClick:t.onCardClick}})})),1),n("ui-table-view",t._g(t._b({},"ui-table-view",t.viewProps,!1),t.viewListeners))],1)},r=[],i=n("3835"),u=n("1da1"),c=n("5530"),l=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("a02a")),o=n("fffc"),s=n("8e9e"),d={name:"HomeMyWorkorder",mixins:[window.mixTableView],components:{DataStatCard:s["a"]},data:function(){return{stats:[{label:"归档审核",num:0,value:0},{label:"借阅审核",num:0,value:1},{label:"出库审核",num:0,value:2},{label:"入库审核",num:0,value:3}],current:0,types:[],columns:[{label:"编号",prop:"todoId",minWidth:140},{label:"审批事项",prop:"todoContent"},{label:"申请人",prop:"applier"},{label:"申请时间",prop:"applyDate",minWidth:140},{label:"操作",width:100,fixed:"right",render:this.$hBtns({label:"审核",action:this.onApprove})}]}},mounted:function(){this.setForm(),this.getInitData(),Object(l["g"])(this,this.getInitData)},methods:{getInitData:function(){this.getData()},setForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.current=t;var e="/workflow/todo/list",n={0:{type:0,url:e},1:{type:1,url:e},2:{type:2,url:e},3:{type:3,url:e}}[t];this.tableForm=n,this.searchForm=Object(c["a"])({},n)},fetchMethod:function(t){return this.$http(t.url,{params:t}).then((function(t){var e=t.data;return{total:e.length,data:e}}))},onCardClick:function(t){this.setForm(t.value),this.onSearch()},getTypeText:function(t){return Object(o["g"])(this.types,t)},onApprove:function(t){this.$openModal((function(){return n.e("chunk-04593462").then(n.bind(null,"44f4"))}),{row:t},{success:this.onEditSuccess})},getCountWorkOrder:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,a,r,u,l,o,s,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http("/workOrder/countWorkOrder");case 2:n=e.sent,a=n.data,r=Object(i["a"])(t.stats,5),u=r[0],l=r[1],o=r[2],s=r[3],d=r[4],t.stats=[Object(c["a"])(Object(c["a"])({},u),{},{num:a.myDisposed}),Object(c["a"])(Object(c["a"])({},l),{},{num:a.myCreate}),Object(c["a"])(Object(c["a"])({},o),{},{num:a.myUnresolved}),Object(c["a"])(Object(c["a"])({},s),{},{num:a.myGroupUndistributed}),Object(c["a"])(Object(c["a"])({},d),{},{num:a.myAttention})];case 6:case"end":return e.stop()}}),e)})))()}}},b=d,f=(n("eb46"),n("2877")),p=Object(f["a"])(b,a,r,!1,null,"ae449af0",null);e["default"]=p.exports},8172:function(t,e,n){},"8e9e":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:["home-data-stat-card",{active:t.active,clickable:t.onClick}],on:{click:t.clickHandler}},[n("div",[n("p",{staticClass:"num"},[t._v(t._s(t.data.num))]),n("p",{staticClass:"label"},[t._v(t._s(t.data.label))])])])},r=[],i={props:{data:Object,active:Boolean,onClick:Function},methods:{clickHandler:function(){this.onClick&&this.onClick(this.data)}}},u=i,c=(n("a5d4"),n("2877")),l=Object(c["a"])(u,a,r,!1,null,null,null);e["a"]=l.exports},a5d4:function(t,e,n){"use strict";n("a9aa")},a9aa:function(t,e,n){},eb46:function(t,e,n){"use strict";n("8172")},fffc:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return d})),n.d(e,"f",(function(){return b})),n.d(e,"h",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"g",(function(){return v})),n.d(e,"d",(function(){return m}));n("1da1"),n("2909"),n("5530");var a=n("ade3"),r=(n("96cf"),n("7db0"),n("d3b7"),n("b0c0"),n("a15b"),n("99af"),n("d81d"),n("4de4"),n("b64b"),n("caad"),n("2532"),n("3ca3"),n("ddb0"),n("159b"),n("a02a"),{label:"尚未受理",value:0}),i={label:"受理中",value:1},u={label:"等待回复",value:2},c={label:"已解决",value:3},l={label:"已关闭",value:4},o=[r,i,u],s=[r,i,u,c,l],d=[i,c,l],b=function(t){return(s.find((function(e){return e.value===t}))||{}).label},f=[{label:"低",value:0},{label:"中",value:1},{label:"高",value:2},{label:"紧急",value:3}],p=function(t){return(f.find((function(e){return e.value===t}))||{}).label},h={INPUT:0,TEXTAREA:1,RADIO:2,CHECKBOX:3,SELECT:4},v=(function(t){var e;e={},Object(a["a"])(e,t.INPUT,"单行文本框"),Object(a["a"])(e,t.TEXTAREA,"多行文本框"),Object(a["a"])(e,t.RADIO,"单选框"),Object(a["a"])(e,t.CHECKBOX,"复选框"),Object(a["a"])(e,t.SELECT,"下拉框")}(h),function(t,e){var n=[],a=t.find((function(t){return t.id===e}));while(a)n.unshift(a.name),a=t.find((function(t){return t.id===a.parentId}));return n.join(" / ")}),m=function(){return{label:"工单标题",prop:"name",minWidth:120,render:function(t,e){var n=e.row;return 1===n.flag&&new Date-new Date(n.lastUrgeTime)<864e5?t("span",[t("span",{style:"color:#E59208;border:1px solid #E59208;padding:2px;margin-right:5px"},"催"),t("span",n.name)]):t("span",n.name)}}}}}]);