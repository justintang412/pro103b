(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bdf0d"],{"2daf":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[e.isAdmin?n("el-form-item",{attrs:{label:"所属企业"}},[n("ui-ent-select",{on:{change:e.onSearch},model:{value:e.searchForm.entid,callback:function(t){e.$set(e.searchForm,"entid",t)},expression:"searchForm.entid"}})],1):e._e(),n("ui-text-field",{attrs:{label:"页面名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.pageName,callback:function(t){e.$set(e.searchForm,"pageName",t)},expression:"searchForm.pageName"}})]},proxy:!0},{key:"actions",fn:function(){return[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.onEdit()}}},[e._v("新建页面")])]},proxy:!0}])},"ui-table-view",Object.assign({},e.viewProps,{hidePager:!0}),!1),e.viewListeners))},a=[],o=n("15fd"),r=n("5530"),c=(n("d3b7"),n("3ca3"),n("ddb0"),n("a02a")),s=["pageNum","pageSize"],l={mixins:[window.mixTableView],data:function(){return{columns:[{label:"页面ID",prop:"pageId",minWidth:240},{label:"页面名称",prop:"pageName"},{label:"页面描述",prop:"remark",minWidth:140},{label:"操作",width:120,fixed:"right",render:this.$hBtns([{label:"编辑",action:this.onEdit},{label:"预览",action:this.onView},{label:"删除",action:this.onDelete}])}]}},computed:{isAdmin:function(){return this.$store.getters.isAdmin}},mounted:function(){this.setInitForm(),this.getData(),Object(c["g"])(this,this.getData)},methods:{setInitForm:function(){this.tableForm=this.isAdmin?{entid:0}:{},this.searchForm=Object(r["a"])({},this.tableForm)},fetchMethod:function(e){e.pageNum,e.pageSize;var t=Object(o["a"])(e,s);return this.$http("/ccas/call/ivr/video/page/list",{params:t})},onDelete:function(e){var t=this;this.delData({action:function(){return t.$http.delete("/ccas/call/ivr/video/page/del/".concat(e.pageId))}})},onEdit:function(e){var t={row:e,params:{entid:this.searchForm.entid}};this.$openModal((function(){return n.e("chunk-7c8e2a99").then(n.bind(null,"364c"))}),t,{success:this.onEditSuccess})},onView:function(e){this.$openModal((function(){return n.e("chunk-2d0cc2b2").then(n.bind(null,"4d7c"))}),{row:e})}}},u=l,d=n("2877"),h=Object(d["a"])(u,i,a,!1,null,null,null);t["default"]=h.exports}}]);