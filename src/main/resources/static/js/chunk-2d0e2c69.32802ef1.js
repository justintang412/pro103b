(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2c69"],{"7fae":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[n("ui-select",{attrs:{label:"收集人",options:e.users,clearable:""},model:{value:e.searchForm.receiver,callback:function(t){e.$set(e.searchForm,"receiver",t)},expression:"searchForm.receiver"}}),n("ui-text-field",{attrs:{placeholder:"电子全文名称"},model:{value:e.searchForm.itemFullName,callback:function(t){e.$set(e.searchForm,"itemFullName",t)},expression:"searchForm.itemFullName"}})]},proxy:!0},{key:"actions",fn:function(){return[n("el-button",{attrs:{icon:"el-icon-delete",disabled:e.selectedRow.length<1},on:{click:function(t){return e.onDeleteRecords(e.selectedRow)}}},[e._v("取消接收")])]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners))},a=[],i=n("1da1"),o=n("3835"),c=n("5530"),s=(n("96cf"),n("d81d"),n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),{name:"file",mixins:[window.mixTableView],data:function(){var e=this;return{columns:[{type:"selection",selectable:function(e){return!0}},{label:"文件ID",prop:"itemId"},{label:"室编电子文档号",prop:"eItemNo"},{label:"部门编电子文档号",prop:"departmentEItemNo"},{label:"馆编电子文档号",prop:"globalEItemNo"},{label:"电子全文名称",prop:"itemFullName"},{label:"电子文件大小",prop:"itemSize"},{label:"电子文件格式",prop:"itemFormat"},{label:"收集人",prop:"receiver"},{label:"收集日期",prop:"receiveDate"},{label:"操作",width:150,fixed:"right",render:function(t,n){var r=n.row;return e.$hBtns([{label:"详情",action:e.onView},{label:"接收",action:e.onEdit}])(t,{row:r})}}],timerange:[],users:[]}},mounted:function(){this.setInitForm(),this.getInitData()},methods:{getInitData:function(){this.getData()},setInitForm:function(){var e=this;this.timerange=[],this.tableForm={key:"name",type:5,flag:"1"},this.$http("/user/list",{params:{}}).then((function(t){var n=t.data;e.users=n.map((function(e){return{value:e.username,label:e.fullname}}))}))},fetchMethod:function(e){return this.$http("/sys/item/receiveList",{params:Object(c["a"])({},this.searchForm)}).then((function(e){var t=e.data;return{total:t.length,data:t}}))},onTimeChange:function(e){var t=e||[],n=Object(o["a"])(t,2),r=n[0],a=n[1];this.searchForm=Object(c["a"])(Object(c["a"])({},this.searchForm),{},{receiveDate:"".concat(r,",").concat(a)}),this.onSearch()},onDeleteRecords:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("确定取消选中的文件？","提示");case 2:return t.next=4,e.$post("/sys/item/receiveListCancel",{itemId:e.selectedRow.map((function(e){return e.itemId}))+""});case 4:e.getData();case 5:case"end":return t.stop()}}),t)})))()},onView:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$openModal((function(){return n.e("chunk-5c41dbb0").then(n.bind(null,"76c2"))}),{row:e},{success:t.onEditSuccess});case 1:case"end":return r.stop()}}),r)})))()},onEdit:function(e){this.$openModal((function(){return n.e("chunk-0b805406").then(n.bind(null,"9d79"))}),{row:e},{success:this.onEditSuccess})}}}),l=s,u=n("2877"),m=Object(u["a"])(l,r,a,!1,null,null,null);t["default"]=m.exports}}]);