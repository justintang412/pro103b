(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6770c17a"],{2238:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[n("ui-text-field",{attrs:{label:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.taskTitle,callback:function(t){e.$set(e.searchForm,"taskTitle",t)},expression:"searchForm.taskTitle"}})]},proxy:!0},{key:"actions",fn:function(){return[n("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.onEdit()}}},[e._v("新增")]),n("el-button",{attrs:{icon:"el-icon-upload2",type:"primary"},on:{click:e.onExport}},[e._v("导出")]),n("el-button",{attrs:{icon:"el-icon-delete",type:"danger",disabled:!e.selectedRow.length},on:{click:function(t){return e.deleteRows(e.selectedRow)}}},[e._v("删除")])]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners))},l=[],r=(n("a15b"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("a02a")),i=n("e66d"),o={name:"QualityCallTask",mixins:[window.mixTableView],data:function(){var e=this;return{columns:[{type:"selection"},{label:"任务名称",prop:"taskTitle",minWidth:120},{label:"开始时间",prop:"startTime",minWidth:140},{label:"分配类型",render:function(e,t){var n=t.row;return e("span",i["f"].getLabel(n.checkType))}},{label:"创建时间",prop:"createTime",minWidth:140},{label:"创建人",prop:"authorName",minWidth:120},{label:"抽检状态",render:function(e,t){var n=t.row;return e("span",i["i"].getLabel(n.eventState))}},{label:"操作",width:100,fixed:"right",render:function(t,n){var a=n.row;return e.$hBtns([{label:"编辑",action:e.onEdit},0===a.eventState?{label:"抽检",action:e.check}:{label:"详情",action:e.onView}])(t,{row:a})}}]}},mounted:function(){this.getData(),Object(r["g"])(this,this.getData)},methods:{fetchMethod:function(e){return this.$http("/qc/qcTask/list",{params:e}).then((function(e){var t=e.data;return t}))},deleteRows:function(e){var t=this;this.delData({action:function(){return t.$http.post("/qc/qcTask/delBatch",e.map((function(e){return"taskIds=".concat(e.taskId)})).join("&"))}})},onEdit:function(e){this.$openModal((function(){return n.e("chunk-34261d49").then(n.bind(null,"9a81"))}),{row:e,entid:this.$store.state.userData.entid},{success:this.onEditSuccess})},onView:function(e){this.$router.push("".concat(this.$route.path,"/").concat(e.taskId))},check:function(e){var t=this;this.$http("/qc/qcTask/sampling",{params:{qcTaskId:e.taskId}}).then((function(n){var a=n.data;a>0?t.$router.push("".concat(t.$route.path,"/").concat(e.taskId)):Promise.reject(new Error("未抽检到任何内容"))}))},onExport:function(){var e=this;Object(r["i"])({fileName:"任务导出.xls",action:function(){return e.$http("/qc/qcTask/export",{params:e.searchForm,responseType:"blob"})}})}}},u=o,c=n("2877"),s=Object(c["a"])(u,a,l,!1,null,null,null);t["default"]=s.exports},e66d:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p}));n("7db0"),n("d3b7");var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,e),this.data=t}return r(e,[{key:"getLabel",value:function(e){var t=this.data.find((function(t){return t.value===e}));return t&&t.label}}]),e}(),o=new i([{label:"个数",value:1},{label:"百分比",value:2}]),u=new i([{label:"平均",value:1},{label:"随机",value:2}]),c=new i([{label:"初检",value:1},{label:"复检",value:2}]),s=new i([{label:"人工",value:1}]),d=new i([{label:"未抽检",value:0},{label:"抽检中",value:1},{label:"已抽检",value:2}]),b=new i([{label:"未抽检",value:0},{label:"已抽检",value:1}]),f=new i([{label:"呼出",value:0},{label:"呼入",value:1}]),h=new i([{label:"技能组",value:1},{label:"坐席",value:2}]),p=new i([{label:"未处理",value:0},{label:"通过",value:1},{label:"驳回",value:2}])}}]);