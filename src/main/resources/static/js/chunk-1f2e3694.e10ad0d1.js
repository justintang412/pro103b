(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f2e3694"],{"448e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-table-view",e._g(e._b({scopedSlots:e._u([{key:"search",fn:function(){return[n("ui-text-field",{attrs:{label:"批次名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}},model:{value:e.searchForm.eventName,callback:function(t){e.$set(e.searchForm,"eventName",t)},expression:"searchForm.eventName"}}),n("ui-select",{attrs:{label:"批次状态",clearable:""},on:{change:e.onSearch},model:{value:e.searchForm.eventStatus,callback:function(t){e.$set(e.searchForm,"eventStatus",t)},expression:"searchForm.eventStatus"}},e._l(e.batchStatus,(function(e,t){return n("el-option",{key:t,attrs:{value:t,label:e.text}})})),1),n("el-form-item",{attrs:{label:"批次时效"}},[n("el-date-picker",{attrs:{placeholder:"请选择",type:"datetime","value-format":"timestamp"},on:{change:e.onSearch},model:{value:e.searchForm.validEndTime,callback:function(t){e.$set(e.searchForm,"validEndTime",t)},expression:"searchForm.validEndTime"}})],1),n("ui-select",{attrs:{label:"优先级",options:e.priorities,clearable:""},on:{change:e.onSearch},model:{value:e.searchForm.eventLevel,callback:function(t){e.$set(e.searchForm,"eventLevel",t)},expression:"searchForm.eventLevel"}}),n("ui-select",{attrs:{label:"场景",options:e.scenes,props:{value:"sceneId",label:"sceneName"},clearable:""},on:{change:e.onSearch},model:{value:e.searchForm.eventSceneId,callback:function(t){e.$set(e.searchForm,"eventSceneId",t)},expression:"searchForm.eventSceneId"}})]},proxy:!0}])},"ui-table-view",e.viewProps,!1),e.viewListeners))},r=[],s=n("1da1"),l=(n("99af"),n("96cf"),n("a02a")),i=n("89d2"),o=n.n(i),c=n("5cdf"),u={name:"OcmPreviewMyBatch",mixins:[window.mixTableView],data:function(){return{batchStatus:c["a"],priorities:c["j"],scenes:[],columns:[{label:"批次名称",prop:"eventName"},{label:"执行进度",minWidth:120,render:function(e,t){var n=t.row,a=n.assignCount?100*Math.min(n.assignCalledCount/n.assignCount,1):0;return 2===n.assignType?e("div",n.assignCalledCount):e("div",{class:o.a.flexCenter},[e("el-progress",{class:o.a.flex1,props:{showText:!1,strokeWidth:6,percentage:a}}),e("span",(n.assignCalledCount||0)+"/"+(n.assignCount||0))])}},{label:"优先级",minWidth:80,render:function(e,t){var n=t.row;return e("div",c["j"][n.eventLevel])}},{label:"当前状态",minWidth:80,render:function(e,t){var n=t.row,a=c["a"][n.eventStatus];return a&&e("el-tag",{props:{type:a.type}},a.text)}},{label:"场景",prop:"sceneName"},{label:"创建人",prop:"creatorName"},{label:"创建时间",prop:"createTime",minWidth:140},{label:"到期时间",minWidth:140,render:function(e,t){var n=t.row;return e("div",{1:"永久",2:n.validEndTime}[n.validTimeType])}},{label:"操作",width:100,fixed:"right",render:this.$hBtns({label:"详情",action:this.onView})}]}},mounted:function(){this.getInitData(),Object(l["g"])(this,this.getInitData)},methods:{getInitData:function(){this.getData(),this.getScenes()},fetchMethod:function(e){return this.$http("/ccas/call/manual/event/my/list",{params:e}).then((function(e){return e.data}))},getScenes:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http("/ccas/call/manual/event/scene/list");case 2:e.scenes=t.sent.data;case 3:case"end":return t.stop()}}),t)})))()},onView:function(e){this.$router.push("".concat(this.$route.path,"/").concat(e.eventId))}}},d=u,h=n("2877"),m=Object(h["a"])(d,a,r,!1,null,null,null);t["default"]=m.exports},"89d2":function(e,t,n){e.exports={pointer:"style-module_pointer_18vYX",flexCenter:"style-module_flexCenter_qMqRZ",flex1:"style-module_flex1_TeLzv"}}}]);