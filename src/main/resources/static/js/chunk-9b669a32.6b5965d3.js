(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b669a32"],{1148:function(e,t,i){"use strict";var n=i("da84"),a=i("5926"),o=i("577e"),s=i("1d80"),r=n.RangeError;e.exports=function(e){var t=o(s(this)),i="",n=a(e);if(n<0||n==1/0)throw r("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(i+=t);return i}},"408a":function(e,t,i){var n=i("e330");e.exports=n(1..valueOf)},"6c29":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",{attrs:{"label-width":"80px",type:"flex",justify:"space-between"}},[i("el-col",{attrs:{span:20}},[i("span",{staticStyle:{color:"#666","margin-right":"5px"}},[e._v("关键字")]),e._v(" "),i("el-input",{staticStyle:{width:"294px"},attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.paginationInfo.voiceContent,callback:function(t){e.$set(e.paginationInfo,"voiceContent",t)},expression:"paginationInfo.voiceContent"}})],1),i("el-col",{attrs:{span:4}},[i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-search"},on:{click:e.onSearchinfo}},[e._v("查询")]),i("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.resetFlie}},[e._v("重置")])],1)],1),i("div",{staticClass:"division"}),i("el-row",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"}},[i("el-col",{attrs:{span:24}},[i("el-button",{attrs:{icon:"el-icon-plus"},on:{click:e.upDatapeso}},[e._v("上传人音")])],1)],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,border:"",stripe:""}},[i("el-table-column",{attrs:{label:"序号",type:"index","min-width":"100"}}),i("el-table-column",{attrs:{label:"上传人",prop:"opUser","min-width":"100"}}),i("el-table-column",{attrs:{label:"上传时间",prop:"insertTime","min-width":"140"}}),i("el-table-column",{attrs:{label:"更新时间",prop:"uploadTime","min-width":"100"}}),i("el-table-column",{attrs:{label:"语音替换文本",prop:"voiceContent",width:"260"}}),i("el-table-column",{attrs:{label:"文件大小",prop:"voiceLength",width:"180"}}),i("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,a=t.$index;return[i("div",{staticClass:"operation"},[i("span",{on:{click:function(t){return e.refreshFile(n)}}},[e._v("替换")]),n.isplay?i("el-tooltip",{attrs:{content:"暂停",effect:"dark",placement:"top"}},[i("i",{staticClass:"el-icon-video-pause",on:{click:function(t){return e.suspend(n,a)}}})]):i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"试听",placement:"top"}},[i("i",{staticClass:"el-icon-video-play",on:{click:function(t){return e.getTape(n,a)}}})]),i("audio",{attrs:{src:"",id:"music"+a}}),i("span",{staticStyle:{color:"red"},on:{click:function(t){return e.delFile(n.id)}}},[e._v("删除")])],1)]}}])})],1),i("ispagination",{ref:"ComPagination",attrs:{paginationInfo:e.paginationInfo},on:{sizeChange:e.handleSizeChange,currentChange:e.handleCurrentChange}}),i("el-dialog",{attrs:{title:e.isDialog?"添加文件":"修改文件",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleClose}},[i("div",{staticClass:"el-dialog-container"},[i("el-form",{staticStyle:{width:"100%"},attrs:{model:e.editForm,rules:e.rulesForm}},[i("el-form-item",{attrs:{label:"录音内容","label-width":"80px",prop:"posenr"}},[i("el-input",{staticStyle:{width:"500px"},attrs:{disabled:!e.isDialog,placeholder:"请输入上传人"},model:{value:e.editForm.posenr,callback:function(t){e.$set(e.editForm,"posenr",t)},expression:"editForm.posenr"}}),i("el-link",{attrs:{underline:!1,type:"danger"}},[e._v("录音文件格式为录音内容.wav，录音内容必需同录音文件名保持一直")])],1)],1),i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",multiple:!1,accept:"audio/wav",action:e.updata,"file-list":e.fileList,data:e.data,"on-success":e.handsuccess,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-change":e.unChange,headers:e.headers,"auto-upload":!1}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])])])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e.isDialog?i("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v("确 定")]):i("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],attrs:{type:"primary"},on:{click:e.affirmRefresh}},[e._v("修 改")])],1)])],1)},a=[],o=i("1da1"),s=(i("96cf"),i("d3b7"),i("159b"),i("b680"),i("fb6a"),i("b0c0"),i("60e2")),r=i("79d8"),l={name:"pesoManage",components:{ispagination:r["a"]},data:function(){return{isSrc:"",isDialog:!0,editForm:{},rulesForm:{},fileList:[],data:{},fileName:"",headers:{Authorization:window.sessionStorage.getItem("token")},dialogVisible:!1,tableData:[],loading:!1,paginationInfo:{voiceContent:"",currentPage:1,pageSizes:[10,20,30,40],pageSize:10,total:0,layout:"sizes, prev, pager, next, jumper, total"},updata:""}},created:function(){this.getfileList()},methods:{getfileList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n={offset:e||1+(t.paginationInfo.currentPage-1)*t.paginationInfo.pageSize,size:t.paginationInfo.pageSize,voiceContent:t.paginationInfo.voiceContent||null},i.next=3,t.$http("/robot/voice/list",{params:n});case 3:a=i.sent,t.paginationInfo.total=a.data.count,a.data.rows.forEach((function(e){e.voiceLength=e.voiceLength/1024,e.voiceLength=e.voiceLength.toFixed(1)+"KB",e.isplay=!1})),t.tableData=a.data.rows,console.log(t.tableData);case 8:case"end":return i.stop()}}),i)})))()},onSearchinfo:function(){this.getfileList(1)},resetFlie:function(){this.paginationInfo.voiceContent="",this.$set(this.paginationInfo,"currentPage",1),this.getfileList()},upDatapeso:function(){this.isDialog=!0,this.dialogVisible=!0},clearFiles:function(){},handleClose:function(){this.isDialog=!0,this.editForm.posenr="",this.$refs.upload.clearFiles()},unChange:function(e,t){this.fileName=e.name.slice(0,e.name.length-4),this.editForm.posenr=this.fileName,this.isDialog?(this.data={voiceReplace:this.editForm.posenr},this.updata=Object(s["c"])("/robot/voice/addOrUpdate")):this.isDialog||(this.data={voiceReplace:this.editForm.posenr,id:this.editForm.id},this.updata=Object(s["c"])("/robot/voice/addOrUpdate"))},submitUpload:function(){console.log(this.editForm.posenr),this.editForm.posenr===this.fileName?(this.$refs.upload.submit(),this.getfileList()):this.$message.error("录音内容必需同录音文件名保持一直")},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},getTape:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.isplay=!0,n=document.getElementById("music"+t),n.src=Object(s["c"])("/robot/voice/tape/".concat(e.id,".wav")),n.play();case 4:case"end":return i.stop()}}),i)})))()},suspend:function(e,t){e.isplay=!1;var i=document.getElementById("music"+t);i.src=Object(s["c"])("/robot/voice/tape/".concat(e.id,".wav")),i.pause()},refreshFile:function(e){this.editForm.posenr=e.voiceContent,this.fileList.slice(-1),console.log(e),this.editForm=e,this.isDialog=!1,this.dialogVisible=!0},affirmRefresh:function(){this.data={voiceReplace:this.editForm.posenr},this.$refs.upload.submit(),this.getfileList()},delFile:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$http("/robot/voice/delete/".concat(e));case 2:n=i.sent,n.ok?t.$message.success("删除成功"):t.$message.error("删除失败"),t.getfileList();case 5:case"end":return i.stop()}}),i)})))()},handsuccess:function(e){this.isDialog?e.ok?this.$message.success("上传成功"):this.$message.error("上传失败"):this.isDialog||(e.ok?this.$message.success("替换成功"):this.$message.error("替换失败")),this.getfileList(),this.editForm.posenr="",this.dialogVisible=!1},handleSizeChange:function(e){var t=this;this.$nextTick((function(){t.paginationInfo.pageSize=e,t.$set(t.paginationInfo,"offset",1+(t.paginationInfo.currentPage-1)*e),t.getfileList()}))},handleCurrentChange:function(e){var t=this;this.$nextTick((function(){t.paginationInfo.currentPage=e,t.$set(t.paginationInfo,"offset",1+(e-1)*t.paginationInfo.pageSize),t.getfileList()}))}}},c=l,u=(i("e2d3"),i("2877")),p=Object(u["a"])(c,n,a,!1,null,"0b2295e0",null);t["default"]=p.exports},"79d8":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-pagination",{staticClass:"is-background",staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{"current-page":e.paginationInfo.currentPage,"page-sizes":e.paginationInfo.pageSizes,"page-size":e.paginationInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.paginationInfo.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],o={props:{paginationInfo:{type:Object,required:!0}},methods:{handleSizeChange:function(e){this.paginationInfo.pageSize=e,this.$emit("sizeChange",e)},handleCurrentChange:function(e){this.paginationInfo.currentPage=e,this.$emit("currentChange",e)}}},s=o,r=i("2877"),l=Object(r["a"])(s,n,a,!1,null,null,null);t["a"]=l.exports},"824a":function(e,t,i){},b680:function(e,t,i){"use strict";var n=i("23e7"),a=i("da84"),o=i("e330"),s=i("5926"),r=i("408a"),l=i("1148"),c=i("d039"),u=a.RangeError,p=a.String,d=Math.floor,f=o(l),g=o("".slice),h=o(1..toFixed),m=function(e,t,i){return 0===t?i:t%2===1?m(e,t-1,i*e):m(e*e,t/2,i)},v=function(e){var t=0,i=e;while(i>=4096)t+=12,i/=4096;while(i>=2)t+=1,i/=2;return t},b=function(e,t,i){var n=-1,a=i;while(++n<6)a+=t*e[n],e[n]=a%1e7,a=d(a/1e7)},w=function(e,t){var i=6,n=0;while(--i>=0)n+=e[i],e[i]=d(n/t),n=n%t*1e7},C=function(e){var t=6,i="";while(--t>=0)if(""!==i||0===t||0!==e[t]){var n=p(e[t]);i=""===i?n:i+f("0",7-n.length)+n}return i},x=c((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!c((function(){h({})}));n({target:"Number",proto:!0,forced:x},{toFixed:function(e){var t,i,n,a,o=r(this),l=s(e),c=[0,0,0,0,0,0],d="",h="0";if(l<0||l>20)throw u("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return p(o);if(o<0&&(d="-",o=-o),o>1e-21)if(t=v(o*m(2,69,1))-69,i=t<0?o*m(2,-t,1):o/m(2,t,1),i*=4503599627370496,t=52-t,t>0){b(c,0,i),n=l;while(n>=7)b(c,1e7,0),n-=7;b(c,m(10,n,1),0),n=t-1;while(n>=23)w(c,1<<23),n-=23;w(c,1<<n),b(c,1,1),w(c,2),h=C(c)}else b(c,0,i),b(c,1<<-t,0),h=C(c)+f("0",l);return l>0?(a=h.length,h=d+(a<=l?"0."+f("0",l-a)+h:g(h,0,a-l)+"."+g(h,a-l))):h=d+h,h}})},e2d3:function(e,t,i){"use strict";i("824a")}}]);