(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a92a200"],{b439:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-table-view",t._b({on:{change:t.getData,reset:t.onReset,search:t.onSearch},scopedSlots:t._u([{key:"search",fn:function(){return[n("ui-select",{attrs:{label:"被质检人",options:t.users,props:{value:"userId",label:"name"},clearable:"",filterable:""},on:{change:t.onSearch},model:{value:t.searchForm.seatId,callback:function(e){t.$set(t.searchForm,"seatId",e)},expression:"searchForm.seatId"}}),n("ui-text-field",{attrs:{label:"会话ID"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch.apply(null,arguments)}},model:{value:t.searchForm.conversationId,callback:function(e){t.$set(t.searchForm,"conversationId",e)},expression:"searchForm.conversationId"}})]},proxy:!0},{key:"actions",fn:function(){return[n("el-alert",{attrs:{type:"info",closable:!1,title:"共 "+t.sessionStatistics.ttlCon+"条会话记录有效会话数 "+t.sessionStatistics.valid+" 条已质检 "+t.sessionStatistics.alreadyQC+" 条质检率 "+t.sessionStatistics.QCRate+"本次抽样 "+t.sessionStatistics.sampling+" 条"}})]},proxy:!0}])},"ui-table-view",t.viewProps,!1))},s=[],a=n("5530"),o=n("a02a"),r=n("c035"),c={name:"QualitySessionAppealReview",mixins:[window.mixTableView,r["a"]],data:function(){return{viewsType:3,columns:[{label:"会话ID",prop:"conversationId",minWidth:120},{label:"被质检人",prop:"seatName"},{label:"申诉时间",prop:"appealTime",minWidth:140},{label:"总分",prop:"totalScore"},{label:"申诉状态",minWidth:80,render:function(t){return t("span","申述中")}},{label:"申诉理由",prop:"message",minWidth:140},{label:"操作",width:100,fixed:"right",render:this.$hBtns({label:"详情",action:this.onRowClick})}]}},mounted:function(){var t=this,e=function(){t.getData(),t.getUsers()};e(),Object(o["g"])(this,e)},methods:{fetchMethod:function(t){return t=Object(a["a"])(Object(a["a"])({},t),{},{entId:this.entId}),this.getSessionStatistics({entId:this.entId}),this.$post("/quality/apply/getReexamination",t).then((function(t){var e=t.data;return e}))}}},l=c,h=n("2877"),u=Object(h["a"])(l,i,s,!1,null,null,null);e["default"]=u.exports},c035:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("5530"),s=n("3835"),a=(n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("b64b"),{data:function(){return{show:!1,options:[],users:[],channels:{weixin:"微信",weibo:"微博",webim:"网页",app:"app"},handleTypes:{inservice:"服务中",end:"结束",inqueue:"队列中"},onlineUsers:[],onlineSkills:[],sessionStatistics:{}}},computed:{entId:function(){return this.$store.state.userData.entid}},methods:{getOptionsData:function(){var t=this;this.$http("/quality/programme/getAllProgramme",{params:{entId:this.entId}}).then((function(e){e=e.data,t.options=e.params}))},getSessionStatistics:function(t){var e=this;this.$http("/quality/statistics/summary",{params:t}).then((function(t){var n=t.data;e.sessionStatistics=n}))},getUsers:function(){var t=this;this.$http("/ccas/auth/user/list?entId=".concat(this.entId)).then((function(e){t.users=e.data}))},onRowClick:function(t){this.$openModal((function(){return Promise.all([n.e("chunk-45682ea3"),n.e("chunk-422b85c9"),n.e("chunk-4642dcbf"),n.e("chunk-74d195c1")]).then(n.bind(null,"218b"))}),{row:t,viewsType:this.viewsType,options:this.options,programId:this.searchForm.programId,store:this.$store,router:this.$router},{close:this.getData.bind(this)})},onTimeChange:function(t){var e=this.$adminCore.formatDate(new Date,"yyyy-MM-dd"),n=t||[e,e],i=Object(s["a"])(n,2),a=i[0],o=i[1];this.searchForm.beginTime=a,this.searchForm.endTime=o,this.onSearch()},onFilterShow:function(){this.$refs.ComFilter.show(this.searchForm)},getQualityStatusText:function(t){return{1:"未质检",2:"已质检",3:"未申诉",4:"申诉中",5:"驳回",6:"已重检"}[t]||""},onPopSearch:function(t){this.searchForm=Object(i["a"])({},t),this.tableForm=Object(i["a"])({},t),this.onSearch()},getOnlineSkills:function(){var t=this;this.$imHttp("/skill/list",{params:{orgi:this.entId}}).then((function(e){var n=e.data;t.onlineSkills=n}))},onChangeSkill:function(t){this.$set(this.searchForm,"seatId",[]),this.onSearch(),this.getOnlineUsers(t)},getOnlineUsers:function(t){var e=this;this.$imHttp.post("/skill/multiSkillCustList",{skillIds:t,orgi:this.entId}).then((function(t){var n=t.data;e.onlineUsers=n}))},checkValue:function(t){return Object.keys(t).forEach((function(e){"undefined"!==t[e]&&""!==t[e]||delete t[e]})),t}}})}}]);