(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1150dff0"],{"3bc6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAASCAMAAABRnG9EAAAAWlBMVEUAAADMzMzS0tLOzs7MzMzMzMzMzMzNzc3MzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////09PTu7u7k5OTd3d36+vrp6enX19fW1tY0Ug//AAAAFXRSTlMAD/3zfUoG5uDTxrulnnFrWzMtHhaV1MafAAAATElEQVQI12NgZIAABIMFxpDlZYMwRCW5GSEMUQlOYQhDVJpdEMIQFWdmhTBExZj4YQw+FCkJDiGwYkkuEZB2KRkeiNFMMMsEoDSmewBzdgR4bjw6pwAAAABJRU5ErkJggg=="},5181:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"h",(function(){return d}));n("99af");var a=n("fa65"),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["e"])("/auth/repository/listpro",t)},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["e"])("/auth/repository/deletepro",t)},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["e"])("/auth/repository/listcontent",t)},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["e"])("/auth/repository/",t)},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["e"].post("/auth/repository/",t)},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["e"])("/auth/repository/singleDialog",t)},u=function(t,e){return Object(a["e"])("/auth/repository/oprationRepository?id=".concat(t,"&isUse=").concat(-1))},d=function(t){return Object(a["e"])("/auth/repository/transferRepository",{params:t})}},"6cdd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAASCAMAAABRnG9EAAAAYFBMVEUAAAAAzbES0bcHz7QAzbEAzbEAzbEAzbECzbIBzbEAzbEAzbEAzbEAzbEAzbEAzbEAzbEAzbEAzbG18Oh55dY72cOv7+at7uak7eOP6dyN6Nxm4dBb381O3Mko1b0m1LwowisKAAAAE3RSTlMAEP3zfkowBubf08a7pp9wa1weMWZ6HQAAAFFJREFUCNdjgAJGDAYLhGLnk4eI84iKg2ghLllhYSDNxiEtDGKwMosIgxgCTJLCYAY/kxSQgktBFHPKQBgMjNyiYsIQg3nlJGBWMcEsFcR0DwBRVQQqYIWqjQAAAABJRU5ErkJggg=="},"6ebd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAolBMVEUAAAAzMzMzMzMzMzMyMjIzMzMzMzMxMTE0NDQzMzMzMzMzMzMvLy8xMTEzMzMzMzM0NDQzMzMyMjI0NDQzMzMzMzMyMjIzMzMzMzMzMzMzMzM1NTUyMjI0NDQzMzMzMzMzMzMxMTEyMjIzMzM0NDQkJCQzMzMzMzMyMjIyMjIgICA3Nzc2NjY0NDQyMjIxMTEyMjIyMjI0NDQzMzMzMzM2NjaYv86pAAAANHRSTlMA7Onx49CKCwb2ysdMK8TBqhED+tvWv7Ospp2ShXprZ2JVSDcYo6CZeXd1bWxdQTYzKCUV/3OOwAAAAN5JREFUKM9lj9mWgjAQRDuBgICI4L47OjPue+X/f83Yh4iY+wC3q04nJ1QSLjdxFKn/+S/VmAmURAFVPDLozmDaXM2GAuilNs99ICiPCLcAbKOgm9X62oMI2fYanFtS6D9e7iCgGifom/kdIQqq08PEfEfwVPxTpee+kmgZSWCobk/xomvMZ2vZYsyjMCbZYlsMy8LZGL0LwZbYos2j996I3WLKNrfFise2sWIcwft4+05KyJA1v+f0SQB+r8MViRs2iA7wG9/pYiD7Ctl3XmR4sXCP4fxCLstuMlnb4Qkl9iDCmDxQOQAAAABJRU5ErkJggg=="},"79d8":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-pagination",{staticClass:"is-background",staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{"current-page":t.paginationInfo.currentPage,"page-sizes":t.paginationInfo.pageSizes,"page-size":t.paginationInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.paginationInfo.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},o=[],r={props:{paginationInfo:{type:Object,required:!0}},methods:{handleSizeChange:function(t){this.paginationInfo.pageSize=t,this.$emit("sizeChange",t)},handleCurrentChange:function(t){this.paginationInfo.currentPage=t,this.$emit("currentChange",t)}}},i=r,s=n("2877"),c=Object(s["a"])(i,a,o,!1,null,null,null);e["a"]=c.exports},b0d4:function(t,e,n){},d2b4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAXVBMVEUAAAAYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzoYPzqOI4UBAAAAHnRSTlMApPHGvZZyUefb1LeNeWtXKw7is6qfh3hhXUQoFgOX/wY5AAAAe0lEQVQoz63QSQ6EMAxEUUMTAs3cczPU/Y/JZBRRERvEW+bLkWw5r0oARK2wGivL4aPhxuGt4c4h1xBxsBoKDqWGnIM5+qp/YBbWwr5LCMTTpPNAJz6j63leuh6zISYxvQ5Vtt3q14jzT+EkbirGntkCWKEhC/aepVxqBKePERz288/tAAAAAElFTkSuQmCC"},ee6e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{ref:"form",attrs:{model:t.historyForm,"label-width":"80px",size:"mini"}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"选择日期"}},[n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.historyForm.startdate,callback:function(e){t.$set(t.historyForm,"startdate",e)},expression:"historyForm.startdate"}})],1)],1),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"关键字"}},[n("el-input",{attrs:{clearable:""},model:{value:t.historyForm.keyword,callback:function(e){t.$set(t.historyForm,"keyword",e)},expression:"historyForm.keyword"}})],1)],1),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-search",size:"mini"},on:{click:function(e){return t.getDataList(1)}}},[t._v("搜索")]),n("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:t.reset}},[t._v("重置")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"开始时间",prop:"startTime","min-width":"100"}}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"机器人",prop:"robotName","min-width":"100"}}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"客户名","min-width":"100",prop:"customerName"}}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"会话时长",prop:"totalduration","min-width":"100"}}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"会话条数",prop:"numberdialogue","min-width":"80"}}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"是否转人工","min-width":"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.artificial?n("span",[t._v("是")]):n("span",[t._v("否")])]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作",align:"center","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-link",{attrs:{type:"info"},on:{click:function(e){return t.examine(a)}}},[t._v("详情")])]}}])})],1),n("ispagination",{ref:"ComPagination",attrs:{paginationInfo:t.paginationInfo},on:{sizeChange:t.handleSizeChange,currentChange:t.handleCurrentChange}}),n("ui-drawer",{attrs:{visible:t.drawer,title:"查看对话",size:"600px"},on:{"update:visible":function(e){t.drawer=e}}},[n("div",{staticClass:"callContent"},[n("ul",{staticClass:"player_text_content"},t._l(t.recordinfo,(function(e,a){return n("li",{key:a,staticClass:"player_text_content_left"},["USER"==e.type?n("div",[n("span",{staticClass:"player_text_content_left_head"},[n("img",{attrs:{src:t.iconCustomer}})]),n("img",{staticClass:"player_text_content_left_chat",attrs:{src:t.iconArrowLeft}}),n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("p",{staticClass:"player_text_content_left_text"},[t._v(t._s(e.dialogueContent))])])]):"AGENT"==e.type?n("div",[n("span",{staticClass:"player_text_content_right_head"},[n("img",{attrs:{src:t.iconCustomerService}})]),n("img",{staticClass:"player_text_content_right_chat",attrs:{src:t.iconArrowRight}}),n("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"row-reverse"}},[n("p",{staticClass:"player_text_content_right_text"},[t._v(" "+t._s(e.dialogueContent))])])]):t._e(),"USER"==e.type?n("div",{staticClass:"ownRule",staticStyle:{"padding-left":"55px"}},[t._v(" "+t._s(e.insertTime)+" ")]):"AGENT"==e.type?n("div",{staticClass:"ownRule",staticStyle:{"text-align":"right","padding-right":"55px"}},[t._v(" "+t._s(e.insertTime)+" ")]):t._e()])})),0)])])],1)},o=[],r=n("1da1"),i=(n("96cf"),n("79d8")),s=n("5181"),c=n("d2b4"),l=n.n(c),u=n("6ebd"),d=n.n(u),A=n("6cdd"),g=n.n(A),p=n("3bc6"),z=n.n(p),f={name:"SensitiveRules",components:{ispagination:i["a"]},data:function(){return{historyForm:{},loading:!1,drawer:!1,tableData:[],recordinfo:[],iconCustomer:l.a,iconCustomerService:d.a,iconArrowLeft:g.a,iconArrowRight:z.a,paginationInfo:{describes:"",currentPage:1,pageSizes:[10,20,30,40],pageSize:10,total:0,layout:"sizes, prev, pager, next, jumper, total"}}},created:function(){this.getDataList()},methods:{getDataList:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={offset:t||1+(e.paginationInfo.currentPage-1)*e.paginationInfo.pageSize,size:e.paginationInfo.pageSize,startdate:e.$adminCore.formatDate(e.historyForm.startdate,"yyyy-MM-dd")||null,keyword:e.historyForm.keyword},e.loading=!0,n.next=4,e.$http("/know/record/sinknorecords",{params:a});case 4:if(o=n.sent,o.ok){n.next=9;break}return e.$message.error(o.info),e.loading=!1,n.abrupt("return",!1);case 9:e.tableData=o.data.rows,e.paginationInfo.total=o.data.count,e.loading=!1;case 12:case"end":return n.stop()}}),n)})))()},examine:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.drawer=!0,a={dialogue:t.id},n.next=4,Object(s["e"])({params:a});case 4:o=n.sent,e.recordinfo=o.data.rows;case 6:case"end":return n.stop()}}),n)})))()},reset:function(){this.historyForm={},this.$set(this.paginationInfo,"currentPage",1),this.getDataList()},handleSizeChange:function(t){var e=this;this.$nextTick((function(){e.paginationInfo.pageSize=t,e.$set(e.paginationInfo,"offset",1+(e.paginationInfo.currentPage-1)*t),e.getDataList()}))},handleCurrentChange:function(t){var e=this;this.$nextTick((function(){e.paginationInfo.currentPage=t,e.$set(e.paginationInfo,"offset",1+(t-1)*e.paginationInfo.pageSize),e.getDataList()}))}}},M=f,h=(n("eeec"),n("2877")),m=Object(h["a"])(M,a,o,!1,null,"5bc10d1a",null);e["default"]=m.exports},eeec:function(t,e,n){"use strict";n("b0d4")},fa65:function(t,e,n){"use strict";n.d(e,"e",(function(){return p})),n.d(e,"a",(function(){return z})),n.d(e,"d",(function(){return f})),n.d(e,"c",(function(){return M})),n.d(e,"b",(function(){return h}));n("d3b7"),n("b0c0");var a=n("4328"),o=n.n(a),r=n("bc3a"),i=n.n(r),s=n("5c96"),c=n("e5ac"),l=n("a02a"),u=n("60e2"),d=function(t){var e=t.statusCode,n=t.message,a=t.data,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o&&s["Message"].error(n||"发生未知异常");var r=new Error(n);return r.data=a,r.statusCode=e,Promise.reject(r)},A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u["a"],n=i.a.create();return n.defaults.baseURL=e,n.defaults.withCredentials=!0,t&&(n.defaults.transformRequest=[function(t){return o.a.stringify(t)}]),n.interceptors.request.use((function(t){var e=sessionStorage.getItem("token");return e&&!1!==t.isAuth&&(t.headers.Authorization=e),t})),n.interceptors.response.use((function(t){var e=t.data;return e instanceof Blob&&(e.name=Object(l["n"])(t.headers["content-disposition"])),"number"===typeof e.code?e.code?d({message:e.msg,data:e,statusCode:t.status}):e:!1!==e.ok?(Object(c["b"])(t.config.url)&&sessionStorage.setItem("token",t.headers.authorization||t.headers.Authorization),e):d({message:e.info,data:e,statusCode:t.status},"-20"!==e.code)}),(function(t){var e=t.response,n=e||{},a=n.data,o=n.status,r=e?a.info||t.message:"请求失败，请稍候重试";return 401===o?(sessionStorage.removeItem("token"),window.opener?window.close():(l["t"].close(),c["a"].dispatch("GO_LOGIN")),d({message:r,data:a,statusCode:o},!1)):d({message:r,data:a,statusCode:o})})),n},g=A(!0,u["b"]),p=A(),z=A(!0),f=function(){return z.post.apply(z,arguments)},M=A(!1,u["b"]),h=function(){return g.post.apply(g,arguments)}}}]);