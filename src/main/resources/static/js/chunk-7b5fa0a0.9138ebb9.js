(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b5fa0a0"],{"11e4":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"Form",attrs:{model:e.form,rules:e.rules}},[r("ui-text-field",{attrs:{prop:"phone",placeholder:"手机号码","prefix-icon":"el-icon-user"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),r("el-form-item",{attrs:{prop:"SMSCaptcha"}},[r("div",{staticClass:"flexbox"},[r("el-input",{attrs:{placeholder:"短信验证码",maxlength:"11"},model:{value:e.form.SMSCaptcha,callback:function(t){e.$set(e.form,"SMSCaptcha",t)},expression:"form.SMSCaptcha"}}),r("el-button",{attrs:{type:"primary",plain:"",disabled:!!e.times},on:{click:e.sendVerCode}},[e._v(e._s(e.times?e.times+"s后重试":"获取验证码"))])],1)]),r("ui-text-field",e._b({attrs:{prop:"password1",placeholder:"新密码"},model:{value:e.form.password1,callback:function(t){e.$set(e.form,"password1",t)},expression:"form.password1"}},"ui-text-field",e.pwdProps,!1),[r("el-tooltip",{attrs:{slot:"suffix",placement:"top",content:"* 8-16位，需同时包含数字，大小写字母和符号"},slot:"suffix"},[r("i",{staticClass:"el-input__icon el-icon-question"})])],1),r("ui-text-field",e._b({attrs:{prop:"password2",placeholder:"请再次输入密码"},model:{value:e.form.password2,callback:function(t){e.$set(e.form,"password2",t)},expression:"form.password2"}},"ui-text-field",e.pwdProps,!1)),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("提交新密码")])],1),r("footer",{staticClass:"footer"},[r("router-link",{attrs:{replace:"",to:"login"}},[r("span",{staticClass:"el-icon-back"}),e._v(" 返回登录 ")])],1)],1)},o=[],s=r("1da1"),n=r("5530"),i=(r("96cf"),r("ac1f"),r("5319"),r("498a"),r("60e2")),c=r("a02a"),l={data:function(){var e=this;return{form:{},loading:!1,rules:{phone:[Object(c["v"])("请输入手机号码"),Object(n["a"])({trigger:"blur"},c["d"])],SMSCaptcha:Object(c["v"])("请输入短信验证码"),password1:[{trigger:"blur",required:!0,message:"请输入密码"},Object(n["a"])({trigger:"blur"},c["e"])],password2:{required:!0,trigger:"blur",validator:function(t,r,a){r?r===e.form.password1?a():a(new Error("两次输入的密码不一致")):a(new Error("请再次输入密码"))}}},pwdProps:{type:"password",showPassword:!0,prefixIcon:"el-icon-lock",autocomplete:"new-password"},times:0}},beforeDestroy:function(){this.stopTimer()},methods:{submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.Form.validate();case 2:return e.loading=!0,t.prev=3,t.next=6,e.$post("/ccas/dashboard/forgot/pass",e.form);case 6:e.$message.success("密码重置成功"),e.$router.replace({name:"login"}),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},stopTimer:function(){clearInterval(this.tid)},sendVerCode:function(){var e=this;this.$refs.Form.validateField(["phone"],function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var a,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return");case 2:return a=Object(i["c"])("/ccas/dashboard/captcha/image/for/SMS/captcha?t=".concat(Date.now())),t.next=5,e.$prompt('<img src="'.concat(a,'" height="32">'),"",{dangerouslyUseHTMLString:!0,showCancelButton:!1,customClass:"entry-captcha-box",inputPlaceholder:"请输入验证码",inputValidator:function(e){return!(!e||!e.trim())||"请输入验证码"}});case 5:return o=t.sent,s=o.value,t.next=9,e.$http("/ccas/dashboard/forgot/pass/SMS/captcha",{params:{captcha:s,phone:e.form.phone}});case 9:e.times=60,e.tid=setInterval((function(){return--e.times<1&&e.stopTimer()}),1e3);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},p=l,u=r("2877"),d=Object(u["a"])(p,a,o,!1,null,null,null);t["default"]=d.exports},"498a":function(e,t,r){"use strict";var a=r("23e7"),o=r("58a8").trim,s=r("c8d2");a({target:"String",proto:!0,forced:s("trim")},{trim:function(){return o(this)}})},c8d2:function(e,t,r){var a=r("5e77").PROPER,o=r("d039"),s=r("5899"),n="​᠎";e.exports=function(e){return o((function(){return!!s[e]()||n[e]()!==n||a&&s[e].name!==e}))}}}]);